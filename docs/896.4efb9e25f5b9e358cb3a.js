"use strict";(self.webpackChunkinventario=self.webpackChunkinventario||[]).push([[896],{4896:(D,S,i)=>{i.r(S),i.d(S,{LocalModule:()=>Sa});var b=i(8583),d=i(4655),g=i(9243),v=i(2653),O=i(6825),C=i(5062),n=i(3032),f=i(3430),u=i(6809),a=i(7716),m=i(3679),U=i(3317),L=i(5298),B=i(5626),N=i(789),J=i(2522),R=i(3968),V=i(1095),z=i(1436),j=i(6627),A=i(8295),E=i(7441),w=i(9983),Q=i(2458),M=i(7234);function G(t,l){if(1&t&&(a.TgZ(0,"mat-option",18),a._uU(1),a.qZA()),2&t){const o=l.$implicit;a.Q6J("value",o),a.xp6(1),a.hij(" ",o," ")}}function $(t,l){if(1&t&&(a.TgZ(0,"mat-option",18),a._uU(1),a.qZA()),2&t){const o=l.$implicit;a.Q6J("value",o),a.xp6(1),a.hij(" ",o," ")}}function K(t,l){if(1&t){const o=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a.TgZ(2,"div"),a.TgZ(3,"mat-label",19),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"td"),a.TgZ(6,"div"),a.TgZ(7,"mat-label",19),a._uU(8),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"td"),a.TgZ(10,"div"),a.TgZ(11,"mat-label",19),a._uU(12),a.qZA(),a.qZA(),a.qZA(),a.TgZ(13,"td"),a.TgZ(14,"div"),a.TgZ(15,"mat-label",19),a._uU(16),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"td",20),a.TgZ(18,"barra-acoes",21),a.NdJ("changeOpcao",function(r){const c=a.CHM(o).$implicit;return a.oxw().escolha(r,c)}),a.qZA(),a.qZA(),a.qZA()}if(2&t){const o=l.$implicit;a.xp6(4),a.Oqu(o.id),a.xp6(4),a.Oqu(o.razao),a.xp6(4),a.Oqu(o.fantasi),a.xp6(4),a.Oqu(o.cnpj_cpf),a.xp6(2),a.Q6J("BARRA_VERTICAL",!0)("BARRA_ATIVIDADES",!1)("EXCLUIR",!1)}}let F=(()=>{class t{constructor(o,e,r,s,c,_,Z,h){this.formBuilder=o,this.globalService=e,this.localService=r,this.parametrosService=s,this.router=c,this.appSnackBar=_,this.route=Z,this.ngZone=h,this.locais=[],this.erro="",this.opcoesOrdenacao=[],this.opcoesCampo=[],this.tamPagina=50,this.controlePaginas=new f.e(this.tamPagina,0),this.retorno=!1,this.parametro=new v.M,this.parametros=o.group({ordenacao:[null],campo:[null],filtro:[null],grupo:[]}),this.inscricaoRota=Z.params.subscribe(T=>{void 0===T.retorno?this.retorno=!1:(this.retorno=!0,this.globalService.estadoFind("local"))}),this.loadParametros()}ngOnInit(){}ngOnDestroy(){var o,e,r,s,c;null===(o=this.inscricaoGetAll)||void 0===o||o.unsubscribe(),null===(e=this.inscricaoGetFiltro)||void 0===e||e.unsubscribe(),null===(r=this.inscricaoGetGrupo)||void 0===r||r.unsubscribe(),null===(s=this.inscricaoRota)||void 0===s||s.unsubscribe(),null===(c=this.inscricaoParametro)||void 0===c||c.unsubscribe()}escolha(o,e){if(void 0!==e){let r=this.parametro.getParametro();Object(r).new=!1,Object(r).id_retorno=e.id,Object(r).page=this.controlePaginas.getPaginalAtual(),Object(r).op_ordenacao=this.opcoesOrdenacao.findIndex(s=>this.parametros.value.ordenacao==s),Object(r).op_pesquisar=this.opcoesCampo.findIndex(s=>this.parametros.value.campo==s),Object(r).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(r),this.globalService.estadoSave(this.parametro),this.router.navigate(["/locais/local",e.id_empresa,e.id,o])}else{let r=this.parametro.getParametro();Object(r).new=!1,Object(r).id_retorno=0,Object(r).page=this.controlePaginas.getPaginalAtual(),Object(r).op_ordenacao=this.opcoesOrdenacao.findIndex(s=>this.parametros.value.ordenacao==s),Object(r).op_pesquisar=this.opcoesCampo.findIndex(s=>this.parametros.value.campo==s),Object(r).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(r),this.globalService.estadoSave(this.parametro),this.router.navigate(["/locais/local",this.globalService.getIdEmpresa(),0,o])}}getAcoes(){return n.I}setValues(){this.parametros.setValue({ordenacao:this.opcoesOrdenacao[(0,u.P0)(this.parametro.getParametro(),"op_ordenacao")],campo:this.opcoesCampo[(0,u.P0)(this.parametro.getParametro(),"op_pesquisar")],filtro:(0,u.SL)(this.parametro.getParametro(),"descricao"),grupo:1})}getLocais(){let o=new O.X;if(o.id_empresa=this.globalService.getIdEmpresa(),"C\xf3digo"==this.parametros.value.campo){let e=parseInt(this.parametros.value.filtro,10);o.id=isNaN(e)?0:e}"Raz\xe3o"==this.parametros.value.campo&&(o.razao=this.parametros.value.filtro.toUpperCase()),o.orderby=this.parametros.value.ordenacao,o.pagina=this.controlePaginas.getPaginalAtual(),o.contador="N",o.tamPagina=this.tamPagina,this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.localService.getLocaisParametro_01(o).subscribe(e=>{this.globalService.setSpin(!1),this.locais=[],this.locais=e;const r=this.locais.findIndex(c=>c.id==(0,u.P0)(this.parametro.getParametro(),"id_retorno"));setTimeout(()=>this.viewPort.scrollToIndex(r),10),this.retorno=!1;let s=this.parametro.getParametro();Object(s).id_retorno=0,Object(s).new=!1,this.parametro.parametro=JSON.stringify(s)},e=>{let r=this.parametro.getParametro();Object(r).id_retorno=0,Object(r).new=!1,this.retorno=!1,this.globalService.setSpin(!1),this.locais=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Locais ${(0,u.bZ)(e)}`,"OK")})}getLocaisContador(){let o=new O.X;if(o.id_empresa=this.globalService.getIdEmpresa(),o.orderby="C\xf3digo","C\xf3digo"==this.parametros.value.campo){let e=parseInt(this.parametros.value.filtro,10);o.id=isNaN(e)?0:e}"Raz\xe3o"==this.parametros.value.campo&&(o.razao=this.parametros.value.filtro.toUpperCase()),o.orderby=this.parametros.value.ordenacao,o.contador="S",o.tamPagina=this.tamPagina,this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.localService.getLocaisParametro_01(o).subscribe(e=>{if(this.globalService.setSpin(!1),this.controlePaginas=new f.e(this.tamPagina,0==e.total?1:e.total),this.retorno)if((0,u.xc)(this.parametro.getParametro(),"new"))this.controlePaginas.goLast();else{let r=this.parametro.getParametro();this.controlePaginas.setPaginaAtual(Object(r).page)}this.getLocais()},e=>{this.globalService.setSpin(!1),this.controlePaginas=new f.e(this.tamPagina,0),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Locais ${(0,u.bZ)(e)}`,"OK")})}getTexto(){return u.fd}onChangePage(){this.getLocais()}onChangeParametros(){this.getLocaisContador()}onHome(){this.router.navigate([""])}onSaveConfig(){this.updateParametros()}loadParametros(){if(this.parametro=new v.M,this.parametro.id_empresa=this.globalService.getIdEmpresa(),this.parametro.modulo="local",this.parametro.assinatura="V1.00 26/08/23",this.parametro.id_usuario=this.globalService.usuario.id,this.parametro.parametro='\n    {\n      "op_ordenacao": 0,\n      "ordenacao": ["C\xf3digo", "Raz\xe3o"],\n      "op_pesquisar": 1,\n      "pesquisar": ["C\xf3digo", "Raz\xe3o"],\n      "descricao": "",\n      "page": 1,\n      "new": false,\n      "id_retorno":0\n    }',this.opcoesOrdenacao=(0,u.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,u.FO)(this.parametro.getParametro(),"pesquisar"),this.retorno&&null!==this.globalService.estadoFind("cliente")){const o=this.globalService.estadoFind("cliente");if(null!=o){if((0,u.xc)(o.getParametro(),"new")){let e=this.parametro.getParametro();Object(e).id_retorno=(0,u.P0)(o.getParametro(),"id_retorno"),this.parametro.parametro=JSON.stringify(e),this.setPosicaoInclusao()}else this.controlePaginas.setPaginaAtual((0,u.P0)(o.getParametro(),"page")),this.parametro.setParametro(o.getParametro());this.globalService.estadoDelete(o),this.setValues(),this.getLocaisContador()}}else this.getParametro()}setPosicaoInclusao(){const o=this.parametro.getParametro();Object(o).op_ordenacao=0,Object(o).op_pesquisar=0,Object(o).descricao="",Object(o).new=!0,this.parametro.setParametro(o)}getParametro(){this.globalService.setSpin(!0);let o=new C.E;o.id_empresa=this.parametro.id_empresa,o.modulo=this.parametro.modulo,o.assinatura=this.parametro.assinatura,o.id_usuario=this.parametro.id_usuario,o.orderby="Usu\xe1rio",this.inscricaoParametro=this.parametrosService.getParametrosParametro01(o).subscribe(e=>{this.globalService.setSpin(!1),this.parametro=new v.M,this.parametro.id_empresa=e[0].id_empresa,this.parametro.modulo=e[0].modulo,this.parametro.id_usuario=e[0].id_usuario,this.parametro.assinatura=e[0].assinatura,this.parametro.parametro=e[0].parametro,this.parametro.user_insert=e[0].user_insert,this.parametro.user_update=e[0].user_update,this.opcoesOrdenacao=(0,u.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,u.FO)(this.parametro.getParametro(),"pesquisar"),this.setValues(),this.getLocaisContador()},e=>{this.globalService.setSpin(!1),this.setValues(),this.getLocaisContador()})}updateParametros(){this.globalService.setSpin(!0),this.parametro.user_insert=this.globalService.usuario.id,this.parametro.user_update=this.globalService.usuario.id;let o=this.parametro.getParametro();Object(o).op_ordenacao=this.opcoesOrdenacao.findIndex(e=>this.parametros.value.ordenacao==e),Object(o).op_pesquisar=this.opcoesCampo.findIndex(e=>this.parametros.value.campo==e),Object(o).descricao=this.parametros.value.filtro,Object(o).page=0,Object(o).new=!1,this.parametro.parametro=JSON.stringify(o),this.inscricaoParametro=this.parametrosService.ParametroAtualiza(this.parametro).subscribe(e=>{this.globalService.setSpin(!1),this.appSnackBar.openSuccessSnackBar("Par\xe2metros Atualizados","OK")},e=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Grava\xe7\xe3o Dos Parametros ${(0,u.bZ)(e)}`,"OK")})}}return t.\u0275fac=function(o){return new(o||t)(a.Y36(m.qu),a.Y36(U.U),a.Y36(L.C),a.Y36(B.u),a.Y36(d.F0),a.Y36(N.W),a.Y36(d.gz),a.Y36(a.R0b))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-crud-local"]],viewQuery:function(o,e){if(1&o&&a.Gf(g.N7,5),2&o){let r;a.iGM(r=a.CRH())&&(e.viewPort=r.first)}},decls:47,vars:7,consts:[[1,"div-barra"],[1,"example-spacer"],[3,"controle","changePage"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Atualizar","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Salvar Par\xe2metros","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Retorno","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click"],["autocomplete","off",1,"col-med-4",3,"formGroup"],["field","","appearance","outline",1,"col-max"],["formControlName","ordenacao",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","campo",3,"selectionChange"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","filtro","oninput","this.value = this.value.toUpperCase()"],[1,"content",3,"itemSize"],[1,"Browse_Lanc"],[1,"coluna-cabec"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"value"],[1,"Browse_Lanc_td"],[1,"acoes"],[3,"BARRA_VERTICAL","BARRA_ATIVIDADES","EXCLUIR","changeOpcao"]],template:function(o,e){1&o&&(a.TgZ(0,"div",0),a.TgZ(1,"mat-toolbar"),a.TgZ(2,"span",1),a._uU(3,"Locais:"),a.qZA(),a.TgZ(4,"app-navegator",2),a.NdJ("changePage",function(){return e.onChangePage()}),a.qZA(),a.TgZ(5,"button",3),a.NdJ("click",function(){return e.getLocaisContador()}),a.TgZ(6,"mat-icon"),a._uU(7,"rotate_right"),a.qZA(),a.qZA(),a.TgZ(8,"button",4),a.NdJ("click",function(){return e.onSaveConfig()}),a.TgZ(9,"mat-icon"),a._uU(10,"brightness_high"),a.qZA(),a.qZA(),a.TgZ(11,"button",5),a.NdJ("click",function(){return e.onHome()}),a.TgZ(12,"mat-icon"),a._uU(13,"home"),a.qZA(),a.qZA(),a.TgZ(14,"button",6),a.NdJ("click",function(){return e.escolha(e.getAcoes().Inclusao)}),a.TgZ(15,"mat-icon"),a._uU(16,"add_circle_outline"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"div"),a.TgZ(18,"form",7),a.TgZ(19,"mat-form-field",8),a.TgZ(20,"mat-label"),a._uU(21,"Ordena\xe7\xe3o"),a.qZA(),a.TgZ(22,"mat-select",9),a.NdJ("selectionChange",function(){return e.onChangeParametros()}),a.YNc(23,G,2,2,"mat-option",10),a.qZA(),a.qZA(),a.TgZ(24,"mat-form-field",8),a.TgZ(25,"mat-label"),a._uU(26,"Pesquisar Por"),a.qZA(),a.TgZ(27,"mat-select",11),a.NdJ("selectionChange",function(){return e.onChangeParametros()}),a.YNc(28,$,2,2,"mat-option",10),a.qZA(),a.qZA(),a.TgZ(29,"mat-form-field",12),a.TgZ(30,"mat-label"),a._uU(31,"Descri\xe7\xe3o"),a.qZA(),a._UZ(32,"input",13),a.qZA(),a.qZA(),a.qZA(),a.TgZ(33,"cdk-virtual-scroll-viewport",14),a.TgZ(34,"table",15),a.TgZ(35,"tr",16),a.TgZ(36,"th"),a._uU(37,"Cod."),a.qZA(),a.TgZ(38,"th"),a._uU(39,"Raz\xe3o"),a.qZA(),a.TgZ(40,"th"),a._uU(41,"Fantasia"),a.qZA(),a.TgZ(42,"th"),a._uU(43,"CNPJ/CPF"),a.qZA(),a.TgZ(44,"th"),a._uU(45,"A\xc7\xd5ES"),a.qZA(),a.qZA(),a.YNc(46,K,19,7,"tr",17),a.qZA(),a.qZA()),2&o&&(a.xp6(4),a.Q6J("controle",e.controlePaginas),a.xp6(10),a.Q6J("matTooltip",e.getTexto().incluir),a.xp6(4),a.Q6J("formGroup",e.parametros),a.xp6(5),a.Q6J("ngForOf",e.opcoesOrdenacao),a.xp6(5),a.Q6J("ngForOf",e.opcoesCampo),a.xp6(5),a.Q6J("itemSize",50),a.xp6(13),a.Q6J("cdkVirtualForOf",e.locais))},directives:[J.Ye,R.J,V.lW,z.gM,j.Hw,m._Y,m.JL,m.sg,A.KE,A.hX,E.gD,m.JJ,m.u,b.sg,w.Nt,m.Fj,g.N7,g.xd,g.x0,Q.ey,M.C],styles:[".content[_ngcontent-%COMP%]{height:60%;overflow:auto}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}"]}),t})();var y=i(8239),p=i(9267),X=i(2546),H=i(3e3),W=i(2401),x=i(4576),aa=i(103),Y=i(662);function ea(t,l){if(1&t){const o=a.EpF();a.TgZ(0,"button",30),a.NdJ("click",function(){return a.CHM(o),a.oxw().onSubmit()}),a.TgZ(1,"mat-icon"),a._uU(2,"check"),a.qZA(),a._uU(3),a.qZA()}if(2&t){const o=a.oxw();a.xp6(3),a.hij(" ",o.acao," ")}}function oa(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();let e;a.xp6(1),a.hij(" ",null==(e=o.formulario.get("razao"))||null==e.errors?null:e.errors.message,"")}}function ta(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();let e;a.xp6(1),a.hij(" ",null==(e=o.formulario.get("cadastr"))||null==e.errors?null:e.errors.message,"")}}function ra(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();let e;a.xp6(1),a.hij(" ",null==(e=o.formulario.get("fantasi"))||null==e.errors?null:e.errors.message,"")}}function ia(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();let e;a.xp6(1),a.hij(" ",null==(e=o.formulario.get("cnpj_cpf"))||null==e.errors?null:e.errors.message,"")}}function la(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();a.xp6(1),a.Oqu(o.getMensafield("inscri"))}}function sa(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();let e;a.xp6(1),a.hij(" ",null==(e=o.formulario.get("ruaf"))||null==e.errors?null:e.errors.message,"")}}function na(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();let e;a.xp6(1),a.hij(" ",null==(e=o.formulario.get("nrof"))||null==e.errors?null:e.errors.message,"")}}function ca(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();let e;a.xp6(1),a.hij(" ",null==(e=o.formulario.get("complementof"))||null==e.errors?null:e.errors.message,"")}}function ua(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();let e;a.xp6(1),a.hij(" ",null==(e=o.formulario.get("bairrof"))||null==e.errors?null:e.errors.message,"")}}function ma(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();let e;a.xp6(1),a.hij(" ",null==(e=o.formulario.get("cidadef"))||null==e.errors?null:e.errors.message,"")}}function pa(t,l){if(1&t&&(a.TgZ(0,"mat-option",34),a._uU(1),a.qZA()),2&t){const o=l.$implicit;a.Q6J("value",o.sigla),a.xp6(1),a.AsE(" ",o.sigla,"-",o.nome," ")}}function da(t,l){if(1&t&&(a.TgZ(0,"mat-form-field",31),a.TgZ(1,"mat-label"),a._uU(2,"Estado:"),a.qZA(),a.TgZ(3,"mat-select",32),a.YNc(4,pa,2,3,"mat-option",33),a.qZA(),a.qZA()),2&t){const o=a.oxw();a.xp6(4),a.Q6J("ngForOf",o.ufs)}}function fa(t,l){if(1&t&&(a.TgZ(0,"mat-form-field",31),a.TgZ(1,"mat-label"),a._uU(2,"Estado:"),a.qZA(),a._UZ(3,"input",35),a.qZA()),2&t){const o=a.oxw();a.xp6(3),a.Q6J("readonly",o.readOnly)}}function ha(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();let e;a.xp6(1),a.hij(" ",null==(e=o.formulario.get("cepf"))||null==e.errors?null:e.errors.message,"")}}function ga(t,l){1&t&&(a.TgZ(0,"mat-error"),a._uU(1,"E-Mail Inv\xe1lido! "),a.qZA())}function va(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();a.xp6(1),a.Oqu(o.getMensafield("tel1"))}}function _a(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();a.xp6(1),a.Oqu(o.getMensafield("tel2"))}}function Za(t,l){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const o=a.oxw();a.xp6(1),a.Oqu(o.getMensafield("obs"))}}const ba=[{path:"",redirectTo:"locais",pathMatch:"full"},{path:"locais",component:F},{path:"locais/:retorno",component:F},{path:"local/:id_empresa/:id_local/:acao",component:(()=>{class t{constructor(o,e,r,s,c,_,Z){this.formBuilder=o,this.estadosSrv=e,this.route=r,this.router=s,this.appSnackBar=c,this.globalService=_,this.locaisService=Z,this.local=new x.s,this.acao="Sem Defini\xe7\xe3o",this.idAcao=n.I.Inclusao,this.readOnly=!0,this.durationInSeconds=2,this.labelCadastro="",this.ufs=[],this.formulario=o.group({id:[{value:"",disabled:!0}],razao:[{value:""},[(0,p.S)(3,65,!0)]],cadastr:[{value:""},[(0,W.K)(!0)]],fantasi:[{value:""},[(0,p.S)(3,25,!0)]],cnpj_cpf:[{value:""},[(0,H.x)(!1)]],inscri:[{value:""},[(0,p.S)(0,20)]],ruaf:[{value:""},[(0,p.S)(3,80,!1)]],nrof:[{value:""},[(0,p.S)(1,10,!1)]],complementof:[{value:""},[(0,p.S)(0,30)]],bairrof:[{value:""},[(0,p.S)(3,40,!1)]],cidadef:[{value:""},[(0,p.S)(3,40,!1)]],uff:[{value:""},[(0,p.S)(2,2,!1)]],uff_:[{value:""}],cepf:[{value:""},[(0,X.l)(!1)]],tel1:[{value:""},[(0,p.S)(0,23,!1)]],tel2:[{value:""},[(0,p.S)(0,23)]],emailf:[{value:""},[m.kI.email]],obs:[{value:""},[(0,p.S)(0,200)]]}),this.local=new x.s,this.inscricaoRota=r.params.subscribe(h=>{this.local.id_empresa=h.id_empresa,this.local.id=h.id_local,this.idAcao=h.acao,this.setAcao(h.acao)})}ngOnInit(){this.idAcao==n.I.Inclusao?(this.local=new x.s,this.local.id_empresa=this.globalService.getIdEmpresa()):this.getLocal(),this.getUfs(),this.setValue()}ngOnDestroy(){var o,e,r,s,c;null===(o=this.incricaoGetLocal)||void 0===o||o.unsubscribe(),null===(e=this.inscricaoGetGrupo)||void 0===e||e.unsubscribe(),null===(r=this.inscricaoRota)||void 0===r||r.unsubscribe(),null===(s=this.inscricaoAcao)||void 0===s||s.unsubscribe(),null===(c=this.inscricaoUf)||void 0===c||c.unsubscribe()}onSubmit(){this.formulario.valid?this.executaAcao():(this.formulario.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}onRetorno(){const o=this.globalService.estadoFind("local");if(null!=o){let e=o.getParametro();Object(e).new=this.idAcao==n.I.Inclusao,Object(e).id_retorno=this.local.id,o.parametro=JSON.stringify(e),this.globalService.estadoSave(o)}this.router.navigate(["/locais/locais","SIM"])}onCancel(){const o=this.globalService.estadoFind("local");if(null!=o){let e=o.getParametro();Object(e).new=!1,Object(e).id_retorno=this.idAcao==n.I.Consulta?this.local.id:0,o.parametro=JSON.stringify(e),this.globalService.estadoSave(o)}this.router.navigate(["/locais/locais","SIM"])}getUfs(){this.inscricaoUf=this.estadosSrv.getEstados().subscribe(o=>{this.ufs=o},o=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Cadastrado De Estados ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")})}getLocal(){this.globalService.setSpin(!0),this.incricaoGetLocal=this.locaisService.getLocal(this.local.id_empresa,this.local.id).subscribe(o=>{this.globalService.setSpin(!1),this.local=o,this.setValue()},o=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Locais ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")})}setValue(){this.formulario.setValue({id:this.local.id,razao:this.local.razao,cadastr:this.local.cadastr,cnpj_cpf:this.local.cnpj_cpf,inscri:this.local.inscri,fantasi:this.local.fantasi,ruaf:this.local.ruaf,nrof:this.local.nrof,complementof:this.local.complementof,bairrof:this.local.bairrof,cidadef:this.local.cidadef,uff:this.local.uff,uff_:this.idAcao==n.I.Consulta||this.idAcao==n.I.Exclusao?this.local.uff:"",cepf:this.local.cepf,tel1:this.local.tel1,tel2:this.local.tel2,emailf:this.local.email,obs:this.local.obs})}getLabelCancel(){return this.idAcao==n.I.Consulta?"Voltar":"Cancelar"}setAcao(o){switch(+o){case n.I.Inclusao:this.acao="Gravar",this.labelCadastro="Locais - Inclus\xe3o.",this.readOnly=!1;break;case n.I.Edicao:this.acao="Gravar",this.labelCadastro="Locais - Altera\xe7\xe3o.",this.readOnly=!1;break;case n.I.Consulta:this.acao="Voltar",this.labelCadastro="Locais - Consulta.",this.readOnly=!0;break;case n.I.Exclusao:this.acao="Excluir",this.labelCadastro="Locais - Exclus\xe3o.",this.readOnly=!0}}executaAcao(){var o=this;switch(this.local.cnpj_cpf=this.formulario.value.cnpj_cpf,this.local.razao=this.formulario.value.razao,this.local.fantasi=this.formulario.value.fantasi,this.local.inscri=this.formulario.value.inscri,this.local.cadastr=this.formulario.value.cadastr,this.local.ruaf=this.formulario.value.ruaf,this.local.nrof=this.formulario.value.nrof,this.local.complementof=this.formulario.value.complementof,this.local.bairrof=this.formulario.value.bairrof,this.local.cidadef=this.formulario.value.cidadef,this.local.uff=this.formulario.value.uff,this.local.cepf=this.formulario.value.cepf,this.local.tel1=this.formulario.value.tel1,this.local.tel2=this.formulario.value.tel2,this.local.email=this.formulario.value.emailf,this.local.obs=this.formulario.value.obs,+this.idAcao){case n.I.Inclusao:this.local.user_insert=this.globalService.getUsuario().id,this.globalService.setSpin(!0),this.inscricaoAcao=this.locaisService.localInsert(this.local).subscribe(function(){var e=(0,y.Z)(function*(r){o.local.id=r.id,o.globalService.setSpin(!1),o.onRetorno()});return function(r){return e.apply(this,arguments)}}(),e=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na INclus\xe3o ${(0,u.bZ)(e)}`,"OK")});break;case n.I.Edicao:this.globalService.setSpin(!0),this.local.user_update=this.globalService.getUsuario().id,this.inscricaoAcao=this.locaisService.localUpdate(this.local).subscribe(function(){var e=(0,y.Z)(function*(r){o.globalService.setSpin(!1),o.onRetorno()});return function(r){return e.apply(this,arguments)}}(),e=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${e.error.tabela} - ${e.error.erro} - ${e.error.message}`,"OK")});break;case n.I.Exclusao:this.globalService.setSpin(!0),this.inscricaoAcao=this.locaisService.localDelete(this.local.id_empresa,this.local.id).subscribe(function(){var e=(0,y.Z)(function*(r){o.globalService.setSpin(!1),o.globalService.padrao.id_local_padrao==o.local.id&&(o.globalService.padrao.id_local_padrao=0,o.globalService.setTrocaPadrao()),o.onRetorno()});return function(r){return e.apply(this,arguments)}}(),e=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar("Erro Na Exclus\xe3o $Mesage ","OK")})}}getAcoes(){return n.I}touchedOrDirty(o){var e,r;return!(!(null===(e=this.formulario.get(o))||void 0===e?void 0:e.touched)&&!(null===(r=this.formulario.get(o))||void 0===r?void 0:r.dirty))}getValidfield(o){var e,r;return(null===(r=null===(e=this.formulario.get(o))||void 0===e?void 0:e.errors)||void 0===r?void 0:r.ValidatorStringLen)&&this.touchedOrDirty(o)}getMensafield(o){var e,r;return null===(r=null===(e=this.formulario.get(o))||void 0===e?void 0:e.errors)||void 0===r?void 0:r.message}}return t.\u0275fac=function(o){return new(o||t)(a.Y36(m.qu),a.Y36(aa.V),a.Y36(d.gz),a.Y36(d.F0),a.Y36(N.W),a.Y36(U.U),a.Y36(L.C))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-local-view"]],decls:101,vars:40,consts:[[1,"example-spacer"],[1,"button-container-right"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-4"],["appearance","outline",1,"col-70"],["matInput","","formControlName","id"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","razao","oninput","this.value = this.value.toUpperCase()","autofocus","",3,"readonly"],[4,"ngIf"],["appearance","outline",1,"col-max"],["matInput","","formControlName","cadastr","mask","00/00/0000","placeholder","21/11/1987",3,"readonly"],[1,"col-med-2"],["matInput","","formControlName","fantasi","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","cnpj_cpf","mask","00.000.000/0000-00||000.000.000-00",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","inscri","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"col-med-3"],["matInput","","formControlName","ruaf","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","nrof","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"col-med-1"],["matInput","","formControlName","complementof","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","bairrof","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","cidadef","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["field","","appearance","outline","class","col-max",4,"ngIf"],["matInput","","formControlName","cepf","mask","99999-999",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","emailf",3,"readonly"],["matInput","","formControlName","tel1","mask","(00) 0 0000-0000||(00) 0000-0000",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","tel2","mask","(00) 0 0000-0000||(00) 0000-0000",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","obs","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["mat-raised-button","","color","primary",3,"click"],["field","","appearance","outline",1,"col-max"],["formControlName","uff"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","uff_",3,"readonly"]],template:function(o,e){if(1&o&&(a.TgZ(0,"p"),a.TgZ(1,"mat-toolbar"),a.TgZ(2,"span",0),a.TgZ(3,"mat-label"),a._uU(4),a.qZA(),a.qZA(),a.TgZ(5,"div",1),a.YNc(6,ea,4,1,"button",2),a.TgZ(7,"button",3),a.NdJ("click",function(){return e.onCancel()}),a.TgZ(8,"mat-icon"),a._uU(9,"cancel"),a.qZA(),a._uU(10),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"form",4),a.TgZ(12,"div",5),a.TgZ(13,"mat-form-field",6),a.TgZ(14,"mat-label"),a._uU(15,"C\xd3DIGO"),a.qZA(),a._UZ(16,"input",7),a.qZA(),a.TgZ(17,"mat-form-field",8),a.TgZ(18,"mat-label"),a._uU(19,"Raz\xe3o Social"),a.qZA(),a._UZ(20,"input",9),a.YNc(21,oa,2,1,"mat-error",10),a.qZA(),a.TgZ(22,"mat-form-field",11),a.TgZ(23,"mat-label"),a._uU(24,"Cadastro"),a.qZA(),a._UZ(25,"input",12),a.YNc(26,ta,2,1,"mat-error",10),a.qZA(),a.qZA(),a.TgZ(27,"div",13),a.TgZ(28,"mat-form-field",11),a.TgZ(29,"mat-label"),a._uU(30,"Fantasia"),a.qZA(),a._UZ(31,"input",14),a.YNc(32,ra,2,1,"mat-error",10),a.qZA(),a.qZA(),a.TgZ(33,"div",13),a.TgZ(34,"mat-form-field",11),a.TgZ(35,"mat-label"),a._uU(36,"CNPJ/CPF"),a.qZA(),a._UZ(37,"input",15),a.YNc(38,ia,2,1,"mat-error",10),a.qZA(),a.TgZ(39,"mat-form-field",11),a.TgZ(40,"mat-label"),a._uU(41,"Inscri\xe7\xe3o Est."),a.qZA(),a._UZ(42,"input",16),a.YNc(43,la,2,1,"mat-error",10),a.qZA(),a.qZA(),a.TgZ(44,"div",17),a.TgZ(45,"mat-form-field",8),a.TgZ(46,"mat-label"),a._uU(47,"Endere\xe7o:"),a.qZA(),a._UZ(48,"input",18),a.YNc(49,sa,2,1,"mat-error",10),a.qZA(),a.TgZ(50,"mat-form-field",11),a.TgZ(51,"mat-label"),a._uU(52,"N\xfamero"),a.qZA(),a._UZ(53,"input",19),a.YNc(54,na,2,1,"mat-error",10),a.qZA(),a.qZA(),a.TgZ(55,"div",20),a.TgZ(56,"mat-form-field",11),a.TgZ(57,"mat-label"),a._uU(58,"Complemento:"),a.qZA(),a._UZ(59,"input",21),a.YNc(60,ca,2,1,"mat-error",10),a.qZA(),a.qZA(),a.TgZ(61,"div",17),a.TgZ(62,"mat-form-field",11),a.TgZ(63,"mat-label"),a._uU(64,"Bairro:"),a.qZA(),a._UZ(65,"input",22),a.YNc(66,ua,2,1,"mat-error",10),a.qZA(),a.TgZ(67,"mat-form-field",11),a.TgZ(68,"mat-label"),a._uU(69,"Cidade:"),a.qZA(),a._UZ(70,"input",23),a.YNc(71,ma,2,1,"mat-error",10),a.qZA(),a.YNc(72,da,5,1,"mat-form-field",24),a.YNc(73,fa,4,1,"mat-form-field",24),a.TgZ(74,"mat-form-field",11),a.TgZ(75,"mat-label"),a._uU(76,"CEP:"),a.qZA(),a._UZ(77,"input",25),a.YNc(78,ha,2,1,"mat-error",10),a.qZA(),a.qZA(),a.TgZ(79,"div",17),a.TgZ(80,"mat-form-field",11),a.TgZ(81,"mat-label"),a._uU(82,"E-Mail:"),a.qZA(),a._UZ(83,"input",26),a.YNc(84,ga,2,0,"mat-error",10),a.qZA(),a.TgZ(85,"mat-form-field",11),a.TgZ(86,"mat-label"),a._uU(87,"Telefone 1:"),a.qZA(),a._UZ(88,"input",27),a.YNc(89,va,2,1,"mat-error",10),a.qZA(),a.TgZ(90,"mat-form-field",11),a.TgZ(91,"mat-label"),a._uU(92,"Telefone 2:"),a.qZA(),a._UZ(93,"input",28),a.YNc(94,_a,2,1,"mat-error",10),a.qZA(),a.qZA(),a.TgZ(95,"div",20),a.TgZ(96,"mat-form-field",11),a.TgZ(97,"mat-label"),a._uU(98,"Observa\xe7\xe3o:"),a.qZA(),a._UZ(99,"input",29),a.YNc(100,Za,2,1,"mat-error",10),a.qZA(),a.qZA(),a.qZA()),2&o){let r,s,c,_,Z,h,T,q,P,I,k;a.xp6(4),a.Oqu(e.labelCadastro),a.xp6(2),a.Q6J("ngIf",3!=e.idAcao),a.xp6(4),a.hij(" ",e.getLabelCancel()," "),a.xp6(1),a.Q6J("formGroup",e.formulario),a.xp6(9),a.Q6J("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(r=e.formulario.get("razao"))||null==r.errors?null:r.errors.ValidatorStringLen)&&e.touchedOrDirty("razao")),a.xp6(4),a.Q6J("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(s=e.formulario.get("cadastr"))||null==s.errors?null:s.errors.ValidatorDate)&&e.touchedOrDirty("cadastr")),a.xp6(5),a.Q6J("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(c=e.formulario.get("fantasi"))||null==c.errors?null:c.errors.ValidatorStringLen)&&e.touchedOrDirty("fantasi")),a.xp6(5),a.Q6J("dropSpecialCharacters",!0)("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(_=e.formulario.get("cnpj_cpf"))||null==_.errors?null:_.errors.ValidadorCnpjCpf)&&e.touchedOrDirty("cnpj_cpf")),a.xp6(4),a.Q6J("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",e.getValidfield("inscri")),a.xp6(5),a.Q6J("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(Z=e.formulario.get("ruaf"))||null==Z.errors?null:Z.errors.ValidatorStringLen)&&e.touchedOrDirty("ruaf")),a.xp6(4),a.Q6J("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(h=e.formulario.get("nrof"))||null==h.errors?null:h.errors.ValidatorStringLen)&&e.touchedOrDirty("nrof")),a.xp6(5),a.Q6J("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(T=e.formulario.get("complementof"))||null==T.errors?null:T.errors.ValidatorStringLen)&&e.touchedOrDirty("complementof")),a.xp6(5),a.Q6J("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(q=e.formulario.get("bairrof"))||null==q.errors?null:q.errors.ValidatorStringLen)&&e.touchedOrDirty("bairrof")),a.xp6(4),a.Q6J("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(P=e.formulario.get("cidadef"))||null==P.errors?null:P.errors.ValidatorStringLen)&&e.touchedOrDirty("cidadef")),a.xp6(1),a.Q6J("ngIf",e.idAcao!=e.getAcoes().Consulta&&e.idAcao!=e.getAcoes().Exclusao),a.xp6(1),a.Q6J("ngIf",e.idAcao==e.getAcoes().Consulta||e.idAcao==e.getAcoes().Exclusao),a.xp6(4),a.Q6J("dropSpecialCharacters",!0)("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(I=e.formulario.get("cepf"))||null==I.errors?null:I.errors.ValidatorCep)&&e.touchedOrDirty("cepf")),a.xp6(5),a.Q6J("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf","INVALID"==(null==(k=e.formulario.get("emailf"))?null:k.status)&&e.touchedOrDirty("emailf")),a.xp6(4),a.Q6J("dropSpecialCharacters",!0)("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",e.getValidfield("tel1")),a.xp6(4),a.Q6J("dropSpecialCharacters",!0)("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",e.getValidfield("tel2")),a.xp6(5),a.Q6J("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",e.getValidfield("obs"))}},directives:[J.Ye,A.hX,b.O5,V.lW,j.Hw,m._Y,m.JL,m.sg,A.KE,w.Nt,m.Fj,m.JJ,m.u,Y.hx,A.TO,E.gD,b.sg,Q.ey],styles:[""]}),t})(),canActivate:[]}];let Ca=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[d.Bz.forChild(ba)],d.Bz]}),t})();var Aa=i(4307),Ta=i(4466);let Sa=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[b.ez,Ca,Aa.q,g.Cl,m.u5,m.UX,Ta.m,Y.yI.forChild()]]}),t})()},9267:(D,S,i)=>{function b(d,g,v=!1){return O=>{let C="",n=!0;const f=O.value;return v||null!=f?v&&null==f||v&&0==f.length?{ValidatorStringLen:!0,message:"Dado Obrigat\xf3rio"}:v||0!=f.length?(d>0&&f.length<d&&(C=`Campo Dever\xe1 Ter No Minimo ${d} Caracteres.`,n=!1),g>0&&f.length>g&&(C=`Campo Dever\xe1 Ter No M\xe1ximo ${g} Caracteres.`,n=!1),n?null:{ValidatorStringLen:!0,message:C}):null:null}}i.d(S,{S:()=>b})}}]);