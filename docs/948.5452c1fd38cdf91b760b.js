"use strict";(self.webpackChunkinventario=self.webpackChunkinventario||[]).push([[948],{3948:(w,T,i)=>{i.r(T),i.d(T,{EmpresaModule:()=>_e});var Z=i(8583),d=i(4655),n=i(6809),l=i(3032),g=i(9243),_=i(3430),v=i(2653),f=i(5062),x=i(4372),e=i(7716),q=i(3317),m=i(3679),O=i(8913),F=i(5626),U=i(789),y=i(2522),Y=i(3968),I=i(1095),j=i(1436),N=i(6627),C=i(8295),P=i(7441),V=i(9983),J=i(2458),k=i(7234);function B(t,s){if(1&t&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&t){const r=s.$implicit;e.Q6J("value",r),e.xp6(1),e.hij(" ",r," ")}}function D(t,s){if(1&t&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&t){const r=s.$implicit;e.Q6J("value",r),e.xp6(1),e.hij(" ",r," ")}}function $(t,s){if(1&t){const r=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"div"),e.TgZ(3,"mat-label",19),e._uU(4),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"td"),e.TgZ(6,"div"),e.TgZ(7,"mat-label",19),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"div"),e.TgZ(11,"mat-label",19),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"td",20),e.TgZ(14,"barra-acoes",21),e.NdJ("changeOpcao",function(o){const c=e.CHM(r).$implicit;return e.oxw().escolha(o,c)}),e.qZA(),e.qZA(),e.qZA()}if(2&t){const r=s.$implicit;e.xp6(4),e.Oqu(r.id),e.xp6(4),e.Oqu(r.razao),e.xp6(4),e.Oqu(r.fantasi),e.xp6(2),e.Q6J("BARRA_VERTICAL",!0)("BARRA_ATIVIDADES",!1)("EXCLUIR",!1)}}let M=(()=>{class t{constructor(r,a,o,p,c,h){this.globalService=r,this.formBuilder=a,this.empresaService=o,this.parametrosService=p,this.router=c,this.appSnackBar=h,this.empresas=[],this.erro="",this.opcoesOrdenacao=[],this.opcoesCampo=[],this.controlePaginas=new _.e(0,0),this.tamPagina=50,this.retorno=!1,this.parametro=new v.M,this.parametros=a.group({ordenacao:[null],campo:[null],filtro:[null]})}ngOnInit(){this.loadParametros()}setValues(){this.parametros.setValue({ordenacao:this.opcoesOrdenacao[(0,n.P0)(this.parametro.getParametro(),"op_ordenacao")],campo:this.opcoesCampo[(0,n.P0)(this.parametro.getParametro(),"op_pesquisar")],filtro:(0,n.SL)(this.parametro.getParametro(),"descricao")})}ngOnDestroy(){var r,a,o;null===(r=this.inscricaoGetAll)||void 0===r||r.unsubscribe(),null===(a=this.inscricaoGetFiltro)||void 0===a||a.unsubscribe(),null===(o=this.inscricaoParametro)||void 0===o||o.unsubscribe()}escolha(r,a){this.router.navigate(void 0!==a?["/empresas/empresa",a.id,r]:["/empresas/empresa",1,r])}getAcoes(){return l.I}getEmpresas(){let r=new x.F;if("C\xf3digo"==this.parametros.value.campo){let a=parseInt(this.parametros.value.filtro,10);r.id=isNaN(a)?0:a}"Raz\xe3o"==this.parametros.value.campo&&(r.razao=this.parametros.value.filtro.toUpperCase()),r.orderby=this.parametros.value.ordenacao,r.pagina=this.controlePaginas.getPaginalAtual(),r.contador="N",r.tamPagina=this.tamPagina,this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.empresaService.getEmpresasParametro_01(r).subscribe(a=>{this.empresas=a,this.globalService.setSpin(!1)},a=>{this.empresas=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nas Empresas ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK"),this.globalService.setSpin(!1)})}getEmpresasContador(){let r=new x.F;if("C\xf3digo"==this.parametros.value.campo){let a=parseInt(this.parametros.value.filtro,10);r.id=isNaN(a)?0:a}"Raz\xe3o"==this.parametros.value.campo&&(r.razao=this.parametros.value.filtro.toUpperCase()),r.orderby=this.parametros.value.ordenacao,r.contador="S",r.contador="S",r.tamPagina=this.tamPagina,this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.empresaService.getEmpresasParametro_01(r).subscribe(a=>{if(this.empresas=a,this.globalService.setSpin(!1),this.controlePaginas=new _.e(this.tamPagina,0==a.total?1:a.total),this.retorno)if((0,n.xc)(this.parametro.getParametro(),"new"))this.controlePaginas.goLast();else{let o=this.parametro.getParametro();this.controlePaginas.setPaginaAtual(Object(o).page)}this.getEmpresas()},a=>{this.empresas=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nas Empresas ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK"),this.globalService.setSpin(!1)})}getTexto(){return n.fd}onHome(){this.router.navigate([""])}onSaveConfig(){this.updateParametros()}loadParametros(){if(this.parametro=new v.M,this.parametro.id_empresa=this.globalService.getIdEmpresa(),this.parametro.modulo="empresa",this.parametro.assinatura="V1.00 29/08/23",this.parametro.id_usuario=this.globalService.usuario.id,this.parametro.parametro='\n    {\n      "op_ordenacao": 0,\n      "ordenacao": ["C\xf3digo","Raz\xe3o"],\n      "op_pesquisar": 1,\n      "pesquisar": ["C\xf3digo","Raz\xe3o"],\n      "descricao": "",\n      "page": 1,\n      "new": false,\n      "id_retorno":0\n    }',this.opcoesOrdenacao=(0,n.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,n.FO)(this.parametro.getParametro(),"pesquisar"),this.retorno&&null!==this.globalService.estadoFind("empresa")){const r=this.globalService.estadoFind("empresa");if(null!=r){if((0,n.xc)(r.getParametro(),"new")){let a=this.parametro.getParametro();Object(a).id_retorno=(0,n.P0)(r.getParametro(),"id_retorno"),this.parametro.parametro=JSON.stringify(a),this.setPosicaoInclusao()}else this.controlePaginas.setPaginaAtual((0,n.P0)(r.getParametro(),"page")),this.parametro.setParametro(r.getParametro());this.globalService.estadoDelete(r),this.setValues(),this.getEmpresasContador()}}else this.getParametro()}setPosicaoInclusao(){const r=this.parametro.getParametro();Object(r).op_ordenacao=0,Object(r).op_pesquisar=0,Object(r).descricao="",Object(r).new=!0,this.parametro.setParametro(r)}getParametro(){this.globalService.setSpin(!0);let r=new f.E;r.id_empresa=this.parametro.id_empresa,r.modulo=this.parametro.modulo,r.assinatura=this.parametro.assinatura,r.id_usuario=this.parametro.id_usuario,r.orderby="Usu\xe1rio",this.inscricaoParametro=this.parametrosService.getParametrosParametro01(r).subscribe(a=>{this.globalService.setSpin(!1),this.parametro=new v.M,this.parametro.id_empresa=a[0].id_empresa,this.parametro.modulo=a[0].modulo,this.parametro.id_usuario=a[0].id_usuario,this.parametro.assinatura=a[0].assinatura,this.parametro.parametro=a[0].parametro,this.parametro.user_insert=a[0].user_insert,this.parametro.user_update=a[0].user_update,this.opcoesOrdenacao=(0,n.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,n.FO)(this.parametro.getParametro(),"pesquisar"),this.setValues(),this.getEmpresasContador()},a=>{this.globalService.setSpin(!1),this.setValues(),this.getEmpresasContador()})}updateParametros(){this.globalService.setSpin(!0),this.parametro.user_insert=this.globalService.usuario.id,this.parametro.user_update=this.globalService.usuario.id;let r=this.parametro.getParametro();Object(r).op_ordenacao=this.opcoesOrdenacao.findIndex(a=>this.parametros.value.ordenacao==a),Object(r).op_pesquisar=this.opcoesCampo.findIndex(a=>this.parametros.value.campo==a),Object(r).descricao=this.parametros.value.filtro,Object(r).page=0,Object(r).new=!1,this.parametro.parametro=JSON.stringify(r),this.inscricaoParametro=this.parametrosService.ParametroAtualiza(this.parametro).subscribe(a=>{this.globalService.setSpin(!1),this.appSnackBar.openSuccessSnackBar("Par\xe2metros Atualizados","OK")},a=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Grava\xe7\xe3o Dos Parametros ${(0,n.bZ)(a)}`,"OK")})}onChangePage(){this.getEmpresasContador()}onChangeParametros(){this.getEmpresasContador()}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(q.U),e.Y36(m.qu),e.Y36(O.P),e.Y36(F.u),e.Y36(d.F0),e.Y36(U.W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-crud-empresa"]],viewQuery:function(r,a){if(1&r&&e.Gf(g.N7,5),2&r){let o;e.iGM(o=e.CRH())&&(a.viewPort=o.first)}},decls:42,vars:7,consts:[[1,"div-barra"],[1,"example-spacer"],[3,"controle","changePage"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Retorno","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Atualizar","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click"],[1,"parametros"],["autocomplete","off",1,"col-med-4",3,"formGroup"],["field","","appearance","outline",1,"col-max"],["formControlName","ordenacao"],[3,"value",4,"ngFor","ngForOf"],["formControlName","campo"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","filtro"],[1,"content",3,"itemSize"],[1,"Browse_Lanc"],[1,"coluna-cabec"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"value"],[1,"Browse_Lanc_td"],[1,"acoes"],[3,"BARRA_VERTICAL","BARRA_ATIVIDADES","EXCLUIR","changeOpcao"]],template:function(r,a){1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-toolbar"),e.TgZ(2,"span",1),e._uU(3,"Empresas:"),e.qZA(),e.TgZ(4,"app-navegator",2),e.NdJ("changePage",function(){return a.onChangePage()}),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return a.onHome()}),e.TgZ(6,"mat-icon"),e._uU(7,"home"),e.qZA(),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return a.getEmpresasContador()}),e.TgZ(9,"mat-icon"),e._uU(10,"rotate_right"),e.qZA(),e.qZA(),e.TgZ(11,"button",5),e.NdJ("click",function(){return a.escolha(a.getAcoes().Inclusao)}),e.TgZ(12,"mat-icon"),e._uU(13,"add_circle_outline"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",6),e.TgZ(15,"form",7),e.TgZ(16,"mat-form-field",8),e.TgZ(17,"mat-label"),e._uU(18,"Ordena\xe7\xe3o"),e.qZA(),e.TgZ(19,"mat-select",9),e.YNc(20,B,2,2,"mat-option",10),e.qZA(),e.qZA(),e.TgZ(21,"mat-form-field",8),e.TgZ(22,"mat-label"),e._uU(23,"Pesquisar Por"),e.qZA(),e.TgZ(24,"mat-select",11),e.YNc(25,D,2,2,"mat-option",10),e.qZA(),e.qZA(),e.TgZ(26,"mat-form-field",12),e.TgZ(27,"mat-label"),e._uU(28,"Descri\xe7\xe3o"),e.qZA(),e._UZ(29,"input",13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"cdk-virtual-scroll-viewport",14),e.TgZ(31,"table",15),e.TgZ(32,"tr",16),e.TgZ(33,"th"),e._uU(34,"C\xf3digo"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Raz\xe3o"),e.qZA(),e.TgZ(37,"th"),e._uU(38,"Fantasia"),e.qZA(),e.TgZ(39,"th"),e._uU(40,"A\xc7\xd5ES"),e.qZA(),e.qZA(),e.YNc(41,$,15,6,"tr",17),e.qZA(),e.qZA()),2&r&&(e.xp6(4),e.Q6J("controle",a.controlePaginas),e.xp6(7),e.Q6J("matTooltip",a.getTexto().incluir),e.xp6(4),e.Q6J("formGroup",a.parametros),e.xp6(5),e.Q6J("ngForOf",a.opcoesOrdenacao),e.xp6(5),e.Q6J("ngForOf",a.opcoesCampo),e.xp6(5),e.Q6J("itemSize",50),e.xp6(11),e.Q6J("cdkVirtualForOf",a.empresas))},directives:[y.Ye,Y.J,I.lW,j.gM,N.Hw,m._Y,m.JL,m.sg,C.KE,C.hX,P.gD,m.JJ,m.u,Z.sg,V.Nt,m.Fj,g.N7,g.xd,g.x0,J.ey,k.C],styles:[".content[_ngcontent-%COMP%]{height:60%;overflow:auto}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}"]}),t})();var S=i(8239),u=i(9267),z=i(2401),R=i(3e3),L=i(2546),E=i(9651),G=i(103),Q=i(8981);function K(t,s){if(1&t){const r=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){return e.CHM(r),e.oxw().onSubmit()}),e.TgZ(1,"mat-icon"),e._uU(2,"check"),e.qZA(),e._uU(3),e.qZA()}if(2&t){const r=e.oxw();e.xp6(3),e.hij(" ",r.acao," ")}}function H(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();let a;e.xp6(1),e.hij(" ",null==(a=r.formulario.get("razao"))||null==a.errors?null:a.errors.message,"")}}function X(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();let a;e.xp6(1),e.hij(" ",null==(a=r.formulario.get("cadastr"))||null==a.errors?null:a.errors.message,"")}}function W(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();let a;e.xp6(1),e.hij(" ",null==(a=r.formulario.get("fantasi"))||null==a.errors?null:a.errors.message,"")}}function ee(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();let a;e.xp6(1),e.hij(" ",null==(a=r.formulario.get("cnpj_cpf"))||null==a.errors?null:a.errors.message,"")}}function ae(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(r.getMensafield("inscri"))}}function re(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(r.getMensafield("ruaf"))}}function te(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(r.getMensafield("nrof"))}}function oe(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(r.getMensafield("complementof"))}}function ie(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(r.getMensafield("bairrof"))}}function se(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(r.getMensafield("cidadef"))}}function le(t,s){if(1&t&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&t){const r=s.$implicit;e.Q6J("value",r.sigla),e.xp6(1),e.AsE(" ",r.sigla,"-",r.nome," ")}}function ne(t,s){if(1&t&&(e.TgZ(0,"mat-form-field",30),e.TgZ(1,"mat-label"),e._uU(2,"Estado:"),e.qZA(),e.TgZ(3,"mat-select",31),e.YNc(4,le,2,3,"mat-option",32),e.qZA(),e.qZA()),2&t){const r=e.oxw();e.xp6(4),e.Q6J("ngForOf",r.ufs)}}function me(t,s){if(1&t&&(e.TgZ(0,"mat-form-field",30),e.TgZ(1,"mat-label"),e._uU(2,"Estado:"),e.qZA(),e._UZ(3,"input",34),e.qZA()),2&t){const r=e.oxw();e.xp6(3),e.Q6J("readonly",r.readOnly)}}function pe(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();let a;e.xp6(1),e.hij(" ",null==(a=r.formulario.get("cepf"))||null==a.errors?null:a.errors.message,"")}}function ue(t,s){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"E-Mail Inv\xe1lido! "),e.qZA())}function ce(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(r.getMensafield("tel1"))}}function de(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(r.getMensafield("tel2"))}}function fe(t,s){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(r.getMensafield("obs"))}}const he=[{path:"",redirectTo:"empresas",pathMatch:"full"},{path:"empresas",component:M},{path:"empresa/:id/:acao",component:(()=>{class t{constructor(r,a,o,p,c,h,A){this.formBuilder=r,this.empresasServices=a,this.estadosSrv=o,this.globalService=p,this.route=c,this.router=h,this.appSnackBar=A,this.empresa=new E.r,this.acao="Sem Defini\xe7\xe3o",this.idAcao=l.I.Inclusao,this.readOnly=!0,this.durationInSeconds=2,this.labelCadastro="",this.ufs=[],this.formulario=r.group({id:[{value:"",disabled:!0}],razao:[{value:""},[(0,u.S)(3,40,!0)]],cadastr:[{value:""},[(0,z.K)(!0)]],fantasi:[{value:""},[(0,u.S)(3,40,!0)]],cnpj_cpf:[{value:""},[(0,R.x)(!0)]],inscri:[{value:""},[(0,u.S)(0,20)]],ruaf:[{value:""},[(0,u.S)(3,80,!0)]],nrof:[{value:""},[(0,u.S)(1,10,!0)]],complementof:[{value:""},[(0,u.S)(0,30)]],bairrof:[{value:""},[(0,u.S)(3,40,!0)]],cidadef:[{value:""},[(0,u.S)(3,40,!0)]],uff:[{value:""},[(0,u.S)(2,2,!0)]],uff_:[{value:""}],cepf:[{value:""},[(0,L.l)(!0)]],tel1:[{value:""},[(0,u.S)(0,23,!0)]],tel2:[{value:""},[(0,u.S)(0,23)]],email:[{value:""},[m.kI.email,(0,u.S)(0,100)]],obs:[{value:""},[(0,u.S)(0,200)]]}),this.empresa=new E.r,this.inscricaoRota=c.params.subscribe(b=>{this.empresa.id=b.id,this.idAcao=b.acao,this.setAcao(b.acao)})}ngOnInit(){this.idAcao==l.I.Inclusao?this.empresa=new E.r:this.getEmpresa(),this.getUfs(),this.setValue()}ngOnDestroy(){var r,a,o,p;null===(r=this.inscricaoGetEmpresa)||void 0===r||r.unsubscribe(),null===(a=this.inscricaoRota)||void 0===a||a.unsubscribe(),null===(o=this.inscricaoAcao)||void 0===o||o.unsubscribe(),null===(p=this.inscricaoUf)||void 0===p||p.unsubscribe()}onSubmit(){this.formulario.valid?this.executaAcao():(this.formulario.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}setValue(){this.formulario.setValue({id:this.empresa.id,razao:this.empresa.razao,cadastr:this.empresa.cadastr,cnpj_cpf:this.empresa.cnpj_cpf,inscri:this.empresa.inscri,fantasi:this.empresa.fantasi,ruaf:this.empresa.ruaf,nrof:this.empresa.nrof,complementof:this.empresa.complementof,bairrof:this.empresa.bairrof,cidadef:this.empresa.cidadef,uff:this.empresa.uff,uff_:this.idAcao==l.I.Consulta||this.idAcao==l.I.Exclusao?this.empresa.uff:"",cepf:this.empresa.cepf,tel1:this.empresa.tel1,tel2:this.empresa.tel2,email:this.empresa.email,obs:this.empresa.obs})}getLabelCancel(){return this.idAcao==l.I.Consulta?"Voltar":"Cancelar"}onCancel(){this.router.navigate(["/empresas"])}getEmpresa(){this.globalService.setSpin(!0),this.inscricaoGetEmpresa=this.empresasServices.getEmpresa(this.empresa.id).subscribe(r=>{this.globalService.setSpin(!1),this.empresa=r,this.setValue()},r=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Pesquisa Nas Empresas ${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")})}getUfs(){this.globalService.setSpin(!0),this.inscricaoUf=this.estadosSrv.getEstados().subscribe(r=>{this.globalService.setSpin(!1),this.ufs=r},r=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Pesquisa Cadastrado De Estados ${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")})}setAcao(r){switch(+r){case l.I.Inclusao:this.acao="Gravar",this.labelCadastro="Empresas - Inclus\xe3o.",this.readOnly=!1;break;case l.I.Edicao:this.acao="Gravar",this.labelCadastro="Empresas - Altera\xe7\xe3o.",this.readOnly=!1;break;case l.I.Consulta:this.acao="Voltar",this.labelCadastro="Empresas - Consulta.",this.readOnly=!0;break;case l.I.Exclusao:this.acao="Excluir",this.labelCadastro="Empresas - Exclus\xe3o.",this.readOnly=!0}}executaAcao(){var r=this;switch(this.empresa.cnpj_cpf=this.formulario.value.cnpj_cpf,this.empresa.razao=this.formulario.value.razao,this.empresa.fantasi=this.formulario.value.fantasi,this.empresa.inscri=this.formulario.value.inscri,this.empresa.cadastr=this.formulario.value.cadastr,this.empresa.ruaf=this.formulario.value.ruaf,this.empresa.nrof=this.formulario.value.nrof,this.empresa.complementof=this.formulario.value.complementof,this.empresa.bairrof=this.formulario.value.bairrof,this.empresa.cidadef=this.formulario.value.cidadef,this.empresa.uff=this.formulario.value.uff,this.empresa.cepf=this.formulario.value.cepf,this.empresa.tel1=this.formulario.value.tel1,this.empresa.tel2=this.formulario.value.tel2,this.empresa.email=this.formulario.value.email,this.empresa.obs=this.formulario.value.obs,+this.idAcao){case l.I.Inclusao:this.empresa.user_insert=this.globalService.getUsuario().id,this.globalService.setSpin(!0),this.inscricaoAcao=this.empresasServices.empresaInsert(this.empresa).subscribe(function(){var a=(0,S.Z)(function*(o){r.globalService.setSpin(!1),r.onCancel()});return function(o){return a.apply(this,arguments)}}(),a=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na INclus\xe3o ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")});break;case l.I.Edicao:this.globalService.setSpin(!0),this.empresa.user_update=this.globalService.getUsuario().id,this.inscricaoAcao=this.empresasServices.empresaUpdate(this.empresa).subscribe(function(){var a=(0,S.Z)(function*(o){r.globalService.setSpin(!1),r.onCancel()});return function(o){return a.apply(this,arguments)}}(),a=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")});break;case l.I.Exclusao:this.globalService.setSpin(!0),this.inscricaoAcao=this.empresasServices.empresaDelete(this.empresa.id).subscribe(function(){var a=(0,S.Z)(function*(o){r.globalService.setSpin(!1),r.onCancel()});return function(o){return a.apply(this,arguments)}}(),a=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na Exclusao ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}}getAcoes(){return l.I}NoValidtouchedOrDirty(r){var a,o,p;return!((null===(a=this.formulario.get(r))||void 0===a?void 0:a.valid)||!(null===(o=this.formulario.get(r))||void 0===o?void 0:o.touched)&&!(null===(p=this.formulario.get(r))||void 0===p?void 0:p.dirty))}touchedOrDirty(r){var a,o;return!(!(null===(a=this.formulario.get(r))||void 0===a?void 0:a.touched)&&!(null===(o=this.formulario.get(r))||void 0===o?void 0:o.dirty))}getValidfield(r){var a,o;return(null===(o=null===(a=this.formulario.get(r))||void 0===a?void 0:a.errors)||void 0===o?void 0:o.ValidatorStringLen)&&this.touchedOrDirty(r)}getMensafield(r){var a,o;return null===(o=null===(a=this.formulario.get(r))||void 0===a?void 0:a.errors)||void 0===o?void 0:o.message}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(m.qu),e.Y36(O.P),e.Y36(G.V),e.Y36(q.U),e.Y36(d.gz),e.Y36(d.F0),e.Y36(U.W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-empresa-view"]],decls:100,vars:40,consts:[[1,"example-spacer"],[1,"button-container-right"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-4"],["appearance","outline",1,"col-70"],["matInput","","formControlName","id"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","razao","autofocus","","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[4,"ngIf"],["appearance","outline",1,"col-max"],["matInput","","formControlName","cadastr","mask","00/00/0000","placeholder","dd/mm/aaaa",3,"readonly"],[1,"col-med-3"],["matInput","","formControlName","fantasi","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","cnpj_cpf","mask","00.000.000/0000-00||000.000.000-00",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","inscri","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","ruaf","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","nrof","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"col-med-1"],["matInput","","formControlName","complementof","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","bairrof","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","cidadef","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["field","","appearance","outline","class","col-max",4,"ngIf"],["matInput","","formControlName","cepf","mask","99999-999",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","email",3,"readonly"],["matInput","","formControlName","tel1","mask","(00) 0 0000-0000||(00) 0000-0000",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","tel2","mask","(00) 0 0000-0000||(00) 0000-0000",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","obs","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["mat-raised-button","","color","primary",3,"click"],["field","","appearance","outline",1,"col-max"],["formControlName","uff"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","uff_",3,"readonly"]],template:function(r,a){if(1&r&&(e.TgZ(0,"p"),e.TgZ(1,"mat-toolbar"),e.TgZ(2,"span",0),e.TgZ(3,"mat-label"),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"div",1),e.YNc(6,K,4,1,"button",2),e.TgZ(7,"button",3),e.NdJ("click",function(){return a.onCancel()}),e.TgZ(8,"mat-icon"),e._uU(9,"cancel"),e.qZA(),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"form",4),e.TgZ(12,"div",5),e.TgZ(13,"mat-form-field",6),e.TgZ(14,"mat-label"),e._uU(15,"C\xd3DIGO"),e.qZA(),e._UZ(16,"input",7),e.qZA(),e.TgZ(17,"mat-form-field",8),e.TgZ(18,"mat-label"),e._uU(19,"Raz\xe3o Social"),e.qZA(),e._UZ(20,"input",9),e.YNc(21,H,2,1,"mat-error",10),e.qZA(),e.TgZ(22,"mat-form-field",11),e.TgZ(23,"mat-label"),e._uU(24,"Cadastro"),e.qZA(),e._UZ(25,"input",12),e.YNc(26,X,2,1,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(27,"div",13),e.TgZ(28,"mat-form-field",11),e.TgZ(29,"mat-label"),e._uU(30,"Fantasia"),e.qZA(),e._UZ(31,"input",14),e.YNc(32,W,2,1,"mat-error",10),e.qZA(),e.TgZ(33,"mat-form-field",11),e.TgZ(34,"mat-label"),e._uU(35,"CNPJ/CPF"),e.qZA(),e._UZ(36,"input",15),e.YNc(37,ee,2,1,"mat-error",10),e.qZA(),e.TgZ(38,"mat-form-field",11),e.TgZ(39,"mat-label"),e._uU(40,"Inscri\xe7\xe3o Est."),e.qZA(),e._UZ(41,"input",16),e.YNc(42,ae,2,1,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(43,"div",13),e.TgZ(44,"mat-form-field",8),e.TgZ(45,"mat-label"),e._uU(46,"Endere\xe7o:"),e.qZA(),e._UZ(47,"input",17),e.YNc(48,re,2,1,"mat-error",10),e.qZA(),e.TgZ(49,"mat-form-field",11),e.TgZ(50,"mat-label"),e._uU(51,"N\xfamero"),e.qZA(),e._UZ(52,"input",18),e.YNc(53,te,2,1,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(54,"div",19),e.TgZ(55,"mat-form-field",11),e.TgZ(56,"mat-label"),e._uU(57,"Complemento:"),e.qZA(),e._UZ(58,"input",20),e.YNc(59,oe,2,1,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(60,"div",13),e.TgZ(61,"mat-form-field",11),e.TgZ(62,"mat-label"),e._uU(63,"Bairro:"),e.qZA(),e._UZ(64,"input",21),e.YNc(65,ie,2,1,"mat-error",10),e.qZA(),e.TgZ(66,"mat-form-field",11),e.TgZ(67,"mat-label"),e._uU(68,"Cidade:"),e.qZA(),e._UZ(69,"input",22),e.YNc(70,se,2,1,"mat-error",10),e.qZA(),e.YNc(71,ne,5,1,"mat-form-field",23),e.YNc(72,me,4,1,"mat-form-field",23),e.TgZ(73,"mat-form-field",11),e.TgZ(74,"mat-label"),e._uU(75,"CEP:"),e.qZA(),e._UZ(76,"input",24),e.YNc(77,pe,2,1,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(78,"div",13),e.TgZ(79,"mat-form-field",11),e.TgZ(80,"mat-label"),e._uU(81,"E-Mail:"),e.qZA(),e._UZ(82,"input",25),e.YNc(83,ue,2,0,"mat-error",10),e.qZA(),e.TgZ(84,"mat-form-field",11),e.TgZ(85,"mat-label"),e._uU(86,"Telefone 1:"),e.qZA(),e._UZ(87,"input",26),e.YNc(88,ce,2,1,"mat-error",10),e.qZA(),e.TgZ(89,"mat-form-field",11),e.TgZ(90,"mat-label"),e._uU(91,"Telefone 2:"),e.qZA(),e._UZ(92,"input",27),e.YNc(93,de,2,1,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(94,"div",19),e.TgZ(95,"mat-form-field",11),e.TgZ(96,"mat-label"),e._uU(97,"Observa\xe7\xe3o:"),e.qZA(),e._UZ(98,"input",28),e.YNc(99,fe,2,1,"mat-error",10),e.qZA(),e.qZA(),e.qZA()),2&r){let o,p,c,h,A,b;e.xp6(4),e.Oqu(a.labelCadastro),e.xp6(2),e.Q6J("ngIf",3!=a.idAcao),e.xp6(4),e.hij(" ",a.getLabelCancel()," "),e.xp6(1),e.Q6J("formGroup",a.formulario),e.xp6(9),e.Q6J("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(o=a.formulario.get("razao"))||null==o.errors?null:o.errors.ValidatorStringLen)&&a.NoValidtouchedOrDirty("razao")),e.xp6(4),e.Q6J("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(p=a.formulario.get("cadastr"))||null==p.errors?null:p.errors.ValidatorDate)&&a.NoValidtouchedOrDirty("cadastr")),e.xp6(5),e.Q6J("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(c=a.formulario.get("fantasi"))||null==c.errors?null:c.errors.ValidatorStringLen)&&a.NoValidtouchedOrDirty("inscri")),e.xp6(4),e.Q6J("dropSpecialCharacters",!0)("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(h=a.formulario.get("cnpj_cpf"))||null==h.errors?null:h.errors.ValidadorCnpjCpf)&&a.NoValidtouchedOrDirty("cnpj_cpf")),e.xp6(4),e.Q6J("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",a.getValidfield("inscri")),e.xp6(5),e.Q6J("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",a.getValidfield("ruaf")),e.xp6(4),e.Q6J("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",a.getValidfield("nrof")),e.xp6(5),e.Q6J("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",a.getValidfield("complementof")),e.xp6(5),e.Q6J("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",a.getValidfield("bairrof")),e.xp6(4),e.Q6J("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",a.getValidfield("cidadef")),e.xp6(1),e.Q6J("ngIf",a.idAcao!=a.getAcoes().Consulta&&a.idAcao!=a.getAcoes().Exclusao),e.xp6(1),e.Q6J("ngIf",a.idAcao==a.getAcoes().Consulta||a.idAcao==a.getAcoes().Exclusao),e.xp6(4),e.Q6J("dropSpecialCharacters",!0)("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(A=a.formulario.get("cepf"))||null==A.errors?null:A.errors.ValidatorCep)&&a.NoValidtouchedOrDirty("cepf")),e.xp6(5),e.Q6J("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf","INVALID"==(null==(b=a.formulario.get("email"))?null:b.status)&&a.NoValidtouchedOrDirty("email")),e.xp6(4),e.Q6J("dropSpecialCharacters",!0)("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",a.getValidfield("tel1")),e.xp6(4),e.Q6J("dropSpecialCharacters",!0)("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",a.getValidfield("tel2")),e.xp6(5),e.Q6J("readonly",a.readOnly),e.xp6(1),e.Q6J("ngIf",a.getValidfield("obs"))}},directives:[y.Ye,C.hX,Z.O5,I.lW,N.Hw,m._Y,m.JL,m.sg,C.KE,V.Nt,m.Fj,m.JJ,m.u,Q.hx,C.TO,P.gD,Z.sg,J.ey],styles:[""]}),t})(),canActivate:[]}];let ge=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.Bz.forChild(he)],d.Bz]}),t})();var ve=i(7666),Ze=i(4466);let _e=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[Z.ez,ge,ve.q,g.Cl,m.u5,m.UX,Ze.m,Q.yI.forChild()]]}),t})()},9267:(w,T,i)=>{function Z(d,n,l=!1){return g=>{let _="",v=!0;const f=g.value;return l||null!=f?l&&null==f||l&&0==f.length?{ValidatorStringLen:!0,message:"Dado Obrigat\xf3rio"}:l||0!=f.length?(d>0&&f.length<d&&(_=`Campo Dever\xe1 Ter No Minimo ${d} Caracteres.`,v=!1),n>0&&f.length>n&&(_=`Campo Dever\xe1 Ter No M\xe1ximo ${n} Caracteres.`,v=!1),v?null:{ValidatorStringLen:!0,message:_}):null:null}}i.d(T,{S:()=>Z})}}]);