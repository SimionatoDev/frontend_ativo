"use strict";(self.webpackChunkinventario=self.webpackChunkinventario||[]).push([[150],{1150:(j,_,i)=>{i.r(_),i.d(_,{ProdutoModule:()=>io});var f=i(8583),d=i(4655);class v{constructor(){this.id_empresa=0,this.id_filial=0,this.codigo=0,this.descricao="",this.pagina=0,this.tamPagina=50,this.contador="N",this.orderby="",this.sharp=!1}}var p=i(9243),b=i(2653),P=i(5062),c=i(3032),m=i(3430),u=i(6809),o=i(7716),l=i(3679),A=i(3317),V=i(2340),k=i(1841);let O=(()=>{class a{constructor(t){this.http=t,this.apiURL=V.N.apiURL}getProdutos(){return this.http.get(`${this.apiURL}Produtos`)}getProdutosParametro_01(t){return this.http.post(`${this.apiURL}produtos`,t)}getProduto(t,e,r){return this.http.get(`${this.apiURL}produto/${t}/${e}/${r}`)}produtoInsert(t){return this.http.post(`${this.apiURL}produto`,t)}produtoUpdate(t){return this.http.put(`${this.apiURL}produto`,t)}produtoDelete(t,e,r){return this.http.delete(`${this.apiURL}produto/${t}/${e}/${r}`)}}return a.\u0275fac=function(t){return new(t||a)(o.LFG(k.eN))},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var w=i(5626),I=i(789),q=i(2522),R=i(3968),y=i(1095),D=i(1436),x=i(6627),Z=i(8295),U=i(7441),N=i(9983),E=i(2458),Y=i(7234);let B=(()=>{class a{constructor(t){this.globalService=t}transform(t){return this.globalService.getEstado(t)}}return a.\u0275fac=function(t){return new(t||a)(o.Y36(A.U,16))},a.\u0275pipe=o.Yjl({name:"estadoproduto",type:a,pure:!0}),a})();function L(a,s){if(1&a&&(o.TgZ(0,"mat-option",18),o._uU(1),o.qZA()),2&a){const t=s.$implicit;o.Q6J("value",t),o.xp6(1),o.hij(" ",t," ")}}function $(a,s){if(1&a&&(o.TgZ(0,"mat-option",18),o._uU(1),o.qZA()),2&a){const t=s.$implicit;o.Q6J("value",t),o.xp6(1),o.hij(" ",t," ")}}function Q(a,s){if(1&a){const t=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o.TgZ(2,"div"),o.TgZ(3,"mat-label",19),o._uU(4),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5,"td"),o.TgZ(6,"div"),o.TgZ(7,"mat-label",19),o._uU(8),o.ALo(9,"estadoproduto"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"td"),o.TgZ(11,"div"),o.TgZ(12,"mat-label",19),o._uU(13),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"td"),o.TgZ(15,"div"),o.TgZ(16,"mat-label",19),o._uU(17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(18,"td",20),o.TgZ(19,"barra-acoes",21),o.NdJ("changeOpcao",function(r){const g=o.CHM(t).$implicit;return o.oxw().escolha(r,g)}),o.qZA(),o.qZA(),o.qZA()}if(2&a){const t=s.$implicit;o.xp6(4),o.Oqu(t.codigo),o.xp6(4),o.Oqu(o.lcZ(9,7,t.estado)),o.xp6(5),o.Oqu(t.descricao),o.xp6(4),o.Oqu(t.ncm),o.xp6(2),o.Q6J("BARRA_VERTICAL",!0)("BARRA_ATIVIDADES",!1)("EXCLUIR",!1)}}let J=(()=>{class a{constructor(t,e,r,n,g,S,h,so){this.formBuilder=t,this.globalService=e,this.produtoService=r,this.parametrosService=n,this.router=g,this.appSnackBar=S,this.route=h,this.ngZone=so,this.produtos=[],this.erro="",this.opcoesOrdenacao=[],this.opcoesCampo=[],this.tamPagina=50,this.controlePaginas=new m.e(this.tamPagina,0),this.retorno=!1,this.parametro=new b.M,this.parametros=t.group({ordenacao:[null],campo:[null],filtro:[null],grupo:[]}),this.inscricaoRota=h.params.subscribe(no=>{void 0===no.retorno?this.retorno=!1:(this.retorno=!0,this.globalService.estadoFind("produto"))}),this.loadParametros()}ngOnInit(){}ngOnDestroy(){var t,e,r,n;null===(t=this.inscricaoGetAll)||void 0===t||t.unsubscribe(),null===(e=this.inscricaoGetFiltro)||void 0===e||e.unsubscribe(),null===(r=this.inscricaoRota)||void 0===r||r.unsubscribe(),null===(n=this.inscricaoParametro)||void 0===n||n.unsubscribe()}escolha(t,e){if(void 0!==e){let r=this.parametro.getParametro();Object(r).new=!1,Object(r).id_retorno=null==e?void 0:e.codigo,Object(r).page=this.controlePaginas.getPaginalAtual(),Object(r).op_ordenacao=this.opcoesOrdenacao.findIndex(n=>this.parametros.value.ordenacao==n),Object(r).op_pesquisar=this.opcoesCampo.findIndex(n=>this.parametros.value.campo==n),Object(r).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(r),this.globalService.estadoSave(this.parametro),this.router.navigate(["/produtos/produto",e.id_empresa,e.id_filial,e.codigo,t])}else{let r=this.parametro.getParametro();Object(r).new=!1,Object(r).id_retorno=0,Object(r).page=this.controlePaginas.getPaginalAtual(),Object(r).op_ordenacao=this.opcoesOrdenacao.findIndex(n=>this.parametros.value.ordenacao==n),Object(r).op_pesquisar=this.opcoesCampo.findIndex(n=>this.parametros.value.campo==n),Object(r).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(r),this.globalService.estadoSave(this.parametro),this.router.navigate(["/produtos/produto",this.globalService.getIdEmpresa(),this.globalService.getLocal().id,0,t])}}getAcoes(){return c.I}setValues(){this.parametros.setValue({ordenacao:this.opcoesOrdenacao[(0,u.P0)(this.parametro.getParametro(),"op_ordenacao")],campo:this.opcoesCampo[(0,u.P0)(this.parametro.getParametro(),"op_pesquisar")],filtro:(0,u.SL)(this.parametro.getParametro(),"descricao"),grupo:1})}getProdutos(){let t=new v;if(t.id_empresa=this.globalService.getIdEmpresa(),t.id_filial=this.globalService.getLocal().id,"C\xf3digo"==this.parametros.value.campo){let e=parseInt(this.parametros.value.filtro,10);t.codigo=isNaN(e)?0:e}"Descri\xe7\xe3o"==this.parametros.value.campo&&(t.descricao=this.parametros.value.filtro.toUpperCase()),t.orderby=this.parametros.value.ordenacao,t.pagina=this.controlePaginas.getPaginalAtual(),t.contador="N",t.tamPagina=this.tamPagina,this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.produtoService.getProdutosParametro_01(t).subscribe(e=>{this.globalService.setSpin(!1),this.produtos=[],this.produtos=e;const r=this.produtos.findIndex(g=>g.codigo==(0,u.P0)(this.parametro.getParametro(),"id_retorno"));setTimeout(()=>this.viewPort.scrollToIndex(r),10),this.retorno=!1;let n=this.parametro.getParametro();Object(n).id_retorno=0,Object(n).new=!1,this.parametro.parametro=JSON.stringify(n)},e=>{let r=this.parametro.getParametro();Object(r).id_retorno=0,Object(r).new=!1,this.retorno=!1,this.globalService.setSpin(!1),this.produtos=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Produtos ${(0,u.bZ)(e)}`,"OK")})}getProdutosContador(){let t=new v;if(t.id_empresa=this.globalService.getIdEmpresa(),t.id_filial=this.globalService.getLocal().id,t.orderby="C\xf3digo","C\xf3digo"==this.parametros.value.campo){let e=parseInt(this.parametros.value.filtro,10);t.codigo=isNaN(e)?0:e}"Descri\xe7\xe3o"==this.parametros.value.campo&&(t.descricao=this.parametros.value.filtro.toUpperCase()),t.orderby=this.parametros.value.ordenacao,t.contador="S",t.tamPagina=this.tamPagina,this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.produtoService.getProdutosParametro_01(t).subscribe(e=>{if(this.globalService.setSpin(!1),this.controlePaginas=new m.e(this.tamPagina,0==e.total?1:e.total),this.retorno)if((0,u.xc)(this.parametro.getParametro(),"new"))this.controlePaginas.goLast();else{let r=this.parametro.getParametro();this.controlePaginas.setPaginaAtual(Object(r).page)}this.getProdutos()},e=>{this.globalService.setSpin(!1),this.controlePaginas=new m.e(this.tamPagina,0),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Produtos ${(0,u.bZ)(e)}`,"OK")})}getTexto(){return u.fd}onChangePage(){this.getProdutos()}onChangeParametros(){this.getProdutosContador()}onHome(){this.router.navigate([""])}onSaveConfig(){this.updateParametros()}loadParametros(){if(this.parametro=new b.M,this.parametro.id_empresa=this.globalService.getIdEmpresa(),this.parametro.modulo="produto",this.parametro.assinatura="V1.00 26/08/23",this.parametro.id_usuario=this.globalService.usuario.id,this.parametro.parametro='\n    {\n      "op_ordenacao": 0,\n      "ordenacao": ["C\xf3digo", "Descri\xe7\xe3o"],\n      "op_pesquisar": 1,\n      "pesquisar": ["C\xf3digo", "Descri\xe7\xe3o"],\n      "descricao": "",\n      "page": 1,\n      "new": false,\n      "id_retorno":0\n    }',this.opcoesOrdenacao=(0,u.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,u.FO)(this.parametro.getParametro(),"pesquisar"),this.retorno&&null!==this.globalService.estadoFind("produto")){const t=this.globalService.estadoFind("produto");if(null!=t){if((0,u.xc)(t.getParametro(),"new")){let e=this.parametro.getParametro();Object(e).id_retorno=(0,u.P0)(t.getParametro(),"id_retorno"),this.parametro.parametro=JSON.stringify(e),this.setPosicaoInclusao()}else this.controlePaginas.setPaginaAtual((0,u.P0)(t.getParametro(),"page")),this.parametro.setParametro(t.getParametro());this.globalService.estadoDelete(t),this.setValues(),this.getProdutosContador()}}else this.getParametro()}setPosicaoInclusao(){const t=this.parametro.getParametro();Object(t).op_ordenacao=0,Object(t).op_pesquisar=0,Object(t).descricao="",Object(t).new=!0,this.parametro.setParametro(t)}getParametro(){this.globalService.setSpin(!0);let t=new P.E;t.id_empresa=this.parametro.id_empresa,t.modulo=this.parametro.modulo,t.assinatura=this.parametro.assinatura,t.id_usuario=this.parametro.id_usuario,t.orderby="Usu\xe1rio",this.inscricaoParametro=this.parametrosService.getParametrosParametro01(t).subscribe(e=>{this.globalService.setSpin(!1),this.parametro=new b.M,this.parametro.id_empresa=e[0].id_empresa,this.parametro.modulo=e[0].modulo,this.parametro.id_usuario=e[0].id_usuario,this.parametro.assinatura=e[0].assinatura,this.parametro.parametro=e[0].parametro,this.parametro.user_insert=e[0].user_insert,this.parametro.user_update=e[0].user_update,this.opcoesOrdenacao=(0,u.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,u.FO)(this.parametro.getParametro(),"pesquisar"),this.setValues(),this.getProdutosContador()},e=>{this.globalService.setSpin(!1),this.setValues(),this.getProdutosContador()})}updateParametros(){this.globalService.setSpin(!0),this.parametro.user_insert=this.globalService.usuario.id,this.parametro.user_update=this.globalService.usuario.id;let t=this.parametro.getParametro();Object(t).op_ordenacao=this.opcoesOrdenacao.findIndex(e=>this.parametros.value.ordenacao==e),Object(t).op_pesquisar=this.opcoesCampo.findIndex(e=>this.parametros.value.campo==e),Object(t).descricao=this.parametros.value.filtro,Object(t).page=0,Object(t).new=!1,this.parametro.parametro=JSON.stringify(t),this.inscricaoParametro=this.parametrosService.ParametroAtualiza(this.parametro).subscribe(e=>{this.globalService.setSpin(!1),this.appSnackBar.openSuccessSnackBar("Par\xe2metros Atualizados","OK")},e=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Grava\xe7\xe3o Dos Parametros ${(0,u.bZ)(e)}`,"OK")})}}return a.\u0275fac=function(t){return new(t||a)(o.Y36(l.qu),o.Y36(A.U),o.Y36(O),o.Y36(w.u),o.Y36(d.F0),o.Y36(I.W),o.Y36(d.gz),o.Y36(o.R0b))},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-crud-produto"]],viewQuery:function(t,e){if(1&t&&o.Gf(p.N7,5),2&t){let r;o.iGM(r=o.CRH())&&(e.viewPort=r.first)}},decls:47,vars:7,consts:[[1,"div-barra"],[1,"example-spacer"],[3,"controle","changePage"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Atualizar","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Salvar Par\xe2metros","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Retorno","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click"],["autocomplete","off",1,"col-med-4",3,"formGroup"],["field","","appearance","outline",1,"col-max"],["formControlName","ordenacao",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","campo",3,"selectionChange"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","filtro","oninput","this.value = this.value.toUpperCase()"],[1,"content",3,"itemSize"],[1,"Browse_Lanc"],[1,"coluna-cabec"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"value"],[1,"Browse_Lanc_td"],[1,"acoes"],[3,"BARRA_VERTICAL","BARRA_ATIVIDADES","EXCLUIR","changeOpcao"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"mat-toolbar"),o.TgZ(2,"span",1),o._uU(3,"Produtos:"),o.qZA(),o.TgZ(4,"app-navegator",2),o.NdJ("changePage",function(){return e.onChangePage()}),o.qZA(),o.TgZ(5,"button",3),o.NdJ("click",function(){return e.getProdutosContador()}),o.TgZ(6,"mat-icon"),o._uU(7,"rotate_right"),o.qZA(),o.qZA(),o.TgZ(8,"button",4),o.NdJ("click",function(){return e.onSaveConfig()}),o.TgZ(9,"mat-icon"),o._uU(10,"brightness_high"),o.qZA(),o.qZA(),o.TgZ(11,"button",5),o.NdJ("click",function(){return e.onHome()}),o.TgZ(12,"mat-icon"),o._uU(13,"home"),o.qZA(),o.qZA(),o.TgZ(14,"button",6),o.NdJ("click",function(){return e.escolha(e.getAcoes().Inclusao)}),o.TgZ(15,"mat-icon"),o._uU(16,"add_circle_outline"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"div"),o.TgZ(18,"form",7),o.TgZ(19,"mat-form-field",8),o.TgZ(20,"mat-label"),o._uU(21,"Ordena\xe7\xe3o"),o.qZA(),o.TgZ(22,"mat-select",9),o.NdJ("selectionChange",function(){return e.onChangeParametros()}),o.YNc(23,L,2,2,"mat-option",10),o.qZA(),o.qZA(),o.TgZ(24,"mat-form-field",8),o.TgZ(25,"mat-label"),o._uU(26,"Pesquisar Por"),o.qZA(),o.TgZ(27,"mat-select",11),o.NdJ("selectionChange",function(){return e.onChangeParametros()}),o.YNc(28,$,2,2,"mat-option",10),o.qZA(),o.qZA(),o.TgZ(29,"mat-form-field",12),o.TgZ(30,"mat-label"),o._uU(31,"Descri\xe7\xe3o"),o.qZA(),o._UZ(32,"input",13),o.qZA(),o.qZA(),o.qZA(),o.TgZ(33,"cdk-virtual-scroll-viewport",14),o.TgZ(34,"table",15),o.TgZ(35,"tr",16),o.TgZ(36,"th"),o._uU(37,"C\xf3digo"),o.qZA(),o.TgZ(38,"th"),o._uU(39,"Estado"),o.qZA(),o.TgZ(40,"th"),o._uU(41,"Descri\xe7\xe3o"),o.qZA(),o.TgZ(42,"th"),o._uU(43,"NCM"),o.qZA(),o.TgZ(44,"th"),o._uU(45,"A\xc7\xd5ES"),o.qZA(),o.qZA(),o.YNc(46,Q,20,9,"tr",17),o.qZA(),o.qZA()),2&t&&(o.xp6(4),o.Q6J("controle",e.controlePaginas),o.xp6(10),o.Q6J("matTooltip",e.getTexto().incluir),o.xp6(4),o.Q6J("formGroup",e.parametros),o.xp6(5),o.Q6J("ngForOf",e.opcoesOrdenacao),o.xp6(5),o.Q6J("ngForOf",e.opcoesCampo),o.xp6(5),o.Q6J("itemSize",50),o.xp6(13),o.Q6J("cdkVirtualForOf",e.produtos))},directives:[q.Ye,R.J,y.lW,D.gM,x.Hw,l._Y,l.JL,l.sg,Z.KE,Z.hX,U.gD,l.JJ,l.u,f.sg,N.Nt,l.Fj,p.N7,p.xd,p.x0,E.ey,Y.C],pipes:[B],styles:[".content[_ngcontent-%COMP%]{height:60%;overflow:auto}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}"]}),a})();var C=i(8239);class T{constructor(){this.id_empresa=0,this.id_filial=0,this.codigo=0,this.estado=0,this.descricao="",this.ncm="",this.id_principal=0,this.user_insert=0,this.user_update=0,this.princ_descricao=""}}var F=i(9267);function M(a,s){if(1&a){const t=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(){return o.CHM(t),o.oxw().onSubmit()}),o.TgZ(1,"mat-icon"),o._uU(2,"check"),o.qZA(),o._uU(3),o.qZA()}if(2&a){const t=o.oxw();o.xp6(3),o.hij(" ",t.acao," ")}}function G(a,s){if(1&a&&(o.TgZ(0,"mat-option",21),o._uU(1),o.qZA()),2&a){const t=s.$implicit;o.Q6J("value",t.codigo),o.xp6(1),o.hij(" ",t.descricao," ")}}function z(a,s){if(1&a&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&a){const t=o.oxw(2);o.xp6(1),o.Oqu(t.getMensafield("estado"))}}function K(a,s){if(1&a&&(o.TgZ(0,"mat-form-field",18),o.TgZ(1,"mat-label"),o._uU(2,"Estado"),o.qZA(),o.TgZ(3,"mat-select",19),o.YNc(4,G,2,2,"mat-option",20),o.qZA(),o.YNc(5,z,2,1,"mat-error",12),o.qZA()),2&a){const t=o.oxw();o.xp6(4),o.Q6J("ngForOf",t.estados),o.xp6(1),o.Q6J("ngIf",t.NoValidtouchedOrDirty("estado"))}}function H(a,s){if(1&a&&(o.TgZ(0,"mat-form-field",18),o.TgZ(1,"mat-label"),o._uU(2,"Estado"),o.qZA(),o._UZ(3,"input",22),o.qZA()),2&a){const t=o.oxw();o.xp6(3),o.Q6J("readonly",t.readOnly)}}function X(a,s){if(1&a&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&a){const t=o.oxw();o.xp6(1),o.Oqu(t.getMensafield("descricao"))}}function W(a,s){if(1&a&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&a){const t=o.oxw();o.xp6(1),o.Oqu(t.getMensafield("ncm"))}}const oo=[{path:"",redirectTo:"produtos",pathMatch:"full"},{path:"produtos",component:J},{path:"produtos/:retorno",component:J},{path:"produto/:id_empresa/:id_local/:codigo/:acao",component:(()=>{class a{constructor(t,e,r,n,g,S){this.formBuilder=t,this.produtoService=e,this.route=r,this.router=n,this.appSnackBar=g,this.globalService=S,this.produto=new T,this.acao="Sem Defini\xe7\xe3o",this.idAcao=c.I.Inclusao,this.readOnly=!0,this.labelCadastro="",this.estados=this.globalService.getEstados(),this.formulario=t.group({codigo:[{value:""},[l.kI.required,l.kI.min(1)]],estado:[{value:""},[l.kI.required,l.kI.min(1)]],estado_:[{value:""}],descricao:[{value:""},[(0,F.S)(1,80,!0)]],ncm:[{value:""},[(0,F.S)(0,15,!1)]],principal:[{value:""}],principal_:[{value:""}]}),this.produto=new T,this.inscricaoRota=r.params.subscribe(h=>{this.produto.id_empresa=h.id_empresa,this.produto.id_filial=h.id_local,this.produto.codigo=h.codigo,this.idAcao=h.acao,this.setAcao(h.acao)})}ngOnInit(){this.idAcao==c.I.Inclusao?(this.produto=new T,this.produto.id_empresa=this.globalService.getIdEmpresa(),this.produto.id_filial=this.globalService.getLocal().id):this.getProduto(),this.setValue()}ngOnDestroy(){var t,e;null===(t=this.inscricaoRota)||void 0===t||t.unsubscribe(),null===(e=this.inscricaoAcao)||void 0===e||e.unsubscribe()}onSubmit(){this.formulario.valid?this.executaAcao():(this.formulario.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}onRetorno(){const t=this.globalService.estadoFind("produto");if(null!=t){let e=t.getParametro();Object(e).new=this.idAcao==c.I.Inclusao,Object(e).id_retorno=this.produto.codigo,t.parametro=JSON.stringify(e),this.globalService.estadoSave(t)}this.router.navigate(["/produtos/produtos","SIM"])}onCancel(){const t=this.globalService.estadoFind("produto");if(null!=t){let e=t.getParametro();Object(e).new=!1,Object(e).id_retorno=this.idAcao==c.I.Consulta?this.produto.codigo:0,t.parametro=JSON.stringify(e),this.globalService.estadoSave(t)}this.router.navigate(["/produtos/produtos","SIM"])}getProduto(){this.globalService.setSpin(!0),this.inscricaoAcao=this.produtoService.getProduto(this.produto.id_empresa,this.produto.id_filial,this.produto.codigo).subscribe(t=>{this.globalService.setSpin(!1),this.produto=t,this.setValue()},t=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Produtos ${t.error.tabela} - ${t.error.erro} - ${t.error.message}`,"OK")})}setValue(){this.formulario.setValue({codigo:this.produto.codigo,estado:0==this.produto.estado?1:this.produto.estado,estado_:this.globalService.getEstado(this.produto.estado),descricao:this.produto.descricao,ncm:this.produto.ncm,principal:this.produto.id_principal,principal_:this.produto.princ_descricao})}getLabelCancel(){return this.idAcao==c.I.Consulta?"Voltar":"Cancelar"}setAcao(t){switch(+t){case c.I.Inclusao:this.acao="Gravar",this.labelCadastro="Produtos - Inclus\xe3o.",this.readOnly=!1;break;case c.I.Edicao:this.acao="Gravar",this.labelCadastro="Produtos - Altera\xe7\xe3o.",this.readOnly=!1;break;case c.I.Consulta:this.acao="Voltar",this.labelCadastro="Produtos - Consulta.",this.readOnly=!0;break;case c.I.Exclusao:this.acao="Excluir",this.labelCadastro="Produtos - Exclus\xe3o.",this.readOnly=!0}}executaAcao(){var t=this;switch(this.produto.codigo=this.formulario.value.codigo,this.produto.estado=this.formulario.value.estado,this.produto.descricao=this.formulario.value.descricao,this.produto.ncm=this.formulario.value.ncm,+this.idAcao){case c.I.Inclusao:this.produto.user_insert=this.globalService.getUsuario().id,this.globalService.setSpin(!0),this.inscricaoAcao=this.produtoService.produtoInsert(this.produto).subscribe(function(){var e=(0,C.Z)(function*(r){t.produto.codigo=r.codigo,t.globalService.setSpin(!1),t.onRetorno()});return function(r){return e.apply(this,arguments)}}(),e=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na INclus\xe3o ${(0,u.bZ)(e)}`,"OK")});break;case c.I.Edicao:this.globalService.setSpin(!0),this.produto.user_update=this.globalService.getUsuario().id,this.inscricaoAcao=this.produtoService.produtoUpdate(this.produto).subscribe(function(){var e=(0,C.Z)(function*(r){t.globalService.setSpin(!1),t.onRetorno()});return function(r){return e.apply(this,arguments)}}(),e=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${e.error.tabela} - ${e.error.erro} - ${e.error.message}`,"OK")});break;case c.I.Exclusao:this.globalService.setSpin(!0),this.inscricaoAcao=this.produtoService.produtoDelete(this.produto.id_empresa,this.produto.id_filial,this.produto.codigo).subscribe(function(){var e=(0,C.Z)(function*(r){t.globalService.setSpin(!1),t.onRetorno()});return function(r){return e.apply(this,arguments)}}(),e=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar("Erro Na Exclus\xe3o $Mesage ","OK")})}}getAcoes(){return c.I}touchedOrDirty(t){var e,r;return!(!(null===(e=this.formulario.get(t))||void 0===e?void 0:e.touched)&&!(null===(r=this.formulario.get(t))||void 0===r?void 0:r.dirty))}NoValidtouchedOrDirty(t){var e,r,n;return!((null===(e=this.formulario.get(t))||void 0===e?void 0:e.valid)||!(null===(r=this.formulario.get(t))||void 0===r?void 0:r.touched)&&!(null===(n=this.formulario.get(t))||void 0===n?void 0:n.dirty))}getMensafield(t){var e,r;return null===(r=null===(e=this.formulario.get(t))||void 0===e?void 0:e.errors)||void 0===r?void 0:r.message}}return a.\u0275fac=function(t){return new(t||a)(o.Y36(l.qu),o.Y36(O),o.Y36(d.gz),o.Y36(d.F0),o.Y36(I.W),o.Y36(A.U))},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-view-produto"]],decls:39,vars:13,consts:[[1,"div-barra"],[1,"example-spacer"],[1,"button-container-right"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-3"],["appearance","outline",1,"col-max"],["matInput","","formControlName","codigo",3,"readonly"],["field","","appearance","outline","class","col-max column-span-2",4,"ngIf"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","descricao","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[4,"ngIf"],["matInput","","formControlName","ncm","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"col-med-2"],["matInput","","formControlName","principal",3,"readonly"],["matInput","","formControlName","principal_",3,"readonly"],["mat-raised-button","","color","primary",3,"click"],["field","","appearance","outline",1,"col-max","column-span-2"],["formControlName","estado"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","estado_",3,"readonly"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"mat-toolbar"),o.TgZ(2,"span",1),o.TgZ(3,"mat-label"),o._uU(4),o.qZA(),o.qZA(),o.TgZ(5,"div",2),o.YNc(6,M,4,1,"button",3),o.TgZ(7,"button",4),o.NdJ("click",function(){return e.onCancel()}),o.TgZ(8,"mat-icon"),o._uU(9,"cancel"),o.qZA(),o._uU(10),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"form",5),o.TgZ(12,"div",6),o.TgZ(13,"mat-form-field",7),o.TgZ(14,"mat-label"),o._uU(15,"C\xf3digo"),o.qZA(),o._UZ(16,"input",8),o.qZA(),o.YNc(17,K,6,2,"mat-form-field",9),o.YNc(18,H,4,1,"mat-form-field",9),o.qZA(),o.TgZ(19,"div",6),o.TgZ(20,"mat-form-field",10),o.TgZ(21,"mat-label"),o._uU(22,"Descri\xe7\xe3o"),o.qZA(),o._UZ(23,"input",11),o.YNc(24,X,2,1,"mat-error",12),o.qZA(),o.TgZ(25,"mat-form-field",7),o.TgZ(26,"mat-label"),o._uU(27,"NCM"),o.qZA(),o._UZ(28,"input",13),o.YNc(29,W,2,1,"mat-error",12),o.qZA(),o.qZA(),o.TgZ(30,"div",14),o.TgZ(31,"mat-form-field",7),o.TgZ(32,"mat-label"),o._uU(33,"C\xf3d. Principal"),o.qZA(),o._UZ(34,"input",15),o.qZA(),o.TgZ(35,"mat-form-field",7),o.TgZ(36,"mat-label"),o._uU(37,"Dscri\xe7\xe3o"),o.qZA(),o._UZ(38,"input",16),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(4),o.Oqu(e.labelCadastro),o.xp6(2),o.Q6J("ngIf",3!=e.idAcao),o.xp6(4),o.hij(" ",e.getLabelCancel()," "),o.xp6(1),o.Q6J("formGroup",e.formulario),o.xp6(5),o.Q6J("readonly",e.idAcao!=e.getAcoes().Inclusao),o.xp6(1),o.Q6J("ngIf",e.idAcao!=e.getAcoes().Consulta&&e.idAcao!=e.getAcoes().Exclusao&&e.idAcao!=e.getAcoes().Atualizacao),o.xp6(1),o.Q6J("ngIf",e.idAcao==e.getAcoes().Consulta||e.idAcao==e.getAcoes().Exclusao),o.xp6(5),o.Q6J("readonly",e.readOnly),o.xp6(1),o.Q6J("ngIf",e.NoValidtouchedOrDirty("descricao")),o.xp6(4),o.Q6J("readonly",e.readOnly),o.xp6(1),o.Q6J("ngIf",e.NoValidtouchedOrDirty("ncm")),o.xp6(5),o.Q6J("readonly",!0),o.xp6(4),o.Q6J("readonly",!0))},directives:[q.Ye,Z.hX,f.O5,y.lW,x.Hw,l._Y,l.JL,l.sg,Z.KE,N.Nt,l.Fj,l.JJ,l.u,U.gD,f.sg,E.ey,Z.TO],styles:[""]}),a})(),canActivate:[]}];let to=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[[d.Bz.forChild(oo)],d.Bz]}),a})();var eo=i(4307),ao=i(4466),ro=i(8981);let io=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[[f.ez,to,eo.q,p.Cl,l.u5,l.UX,ao.m,ro.yI.forChild()]]}),a})()},9267:(j,_,i)=>{function f(d,v,p=!1){return b=>{let P="",c=!0;const m=b.value;return p||null!=m?p&&null==m||p&&0==m.length?{ValidatorStringLen:!0,message:"Dado Obrigat\xf3rio"}:p||0!=m.length?(d>0&&m.length<d&&(P=`Campo Dever\xe1 Ter No Minimo ${d} Caracteres.`,c=!1),v>0&&m.length>v&&(P=`Campo Dever\xe1 Ter No M\xe1ximo ${v} Caracteres.`,c=!1),c?null:{ValidatorStringLen:!0,message:P}):null:null}}i.d(_,{S:()=>f})}}]);