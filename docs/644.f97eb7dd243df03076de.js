"use strict";(self.webpackChunkinventario=self.webpackChunkinventario||[]).push([[644],{6407:(T,v,a)=>{a.d(v,{E:()=>o});var r=a(6809);class o{constructor(){this.id_empresa=0,this.id_filial=0,this.id_inventario=0,this.id_imobilizado=0,this.id_usuario=0,this.id_lanca=0,this.obs="",this.dtlanca=(0,r.zp)(new Date),this.estado=0,this.new_codigo=0,this.new_cc="",this.condicao=9,this.book="N",this.user_insert=0,this.user_update=0,this.imo_inv_status=0,this.inv_descricao="",this.imo_cod_cc="",this.imo_cod_grupo=0,this.imo_descricao="",this.usu_razao=""}}},1023:(T,v,a)=>{a.d(v,{H:()=>r});class r{constructor(){this.id_empresa=0,this.id_filial=0,this.codigo=0,this.descricao="",this.user_insert=0,this.user_update=0}}},6924:(T,v,a)=>{a.d(v,{v:()=>r});class r{constructor(){this.id_empresa=0,this.id_local=0,this.id_inventario=0,this.id_imobilizado=0,this.id_pasta="",this.id_file="",this.file_name="",this.imobilizados=[],this.destaque="N",this.pagina=0,this.tamPagina=50,this.contador="N",this.orderby="",this.sharp=!1}}},2992:(T,v,a)=>{a.d(v,{h:()=>r});class r{constructor(){this.id_empresa=0,this.id_filial=0,this.codigo=0,this.descricao="",this.pagina=0,this.tamPagina=50,this.contador="N",this.orderby="",this.sharp=!1}}},7535:(T,v,a)=>{a.d(v,{X:()=>f});var r=a(2340),o=a(7716),n=a(1841);let f=(()=>{class d{constructor(m){this.http=m,this.apiURL=r.N.apiURL}getFotos(){return this.http.get(`${this.apiURL}Fotos`)}getFotosParametro_01(m){return this.http.post(`${this.apiURL}fotos`,m)}getFoto(m,C,p,l,g,P,h){return this.http.get(`${this.apiURL}foto/${m}/${C}/${p}/${l}/${g}/${P}/${h}`)}fotoInsert(m){return this.http.post(`${this.apiURL}foto`,m)}fotoUpdate(m){return this.http.put(`${this.apiURL}foto`,m)}fotoDelete(m,C,p,l,g,P,h){return this.http.delete(`${this.apiURL}foto/${m}/${C}/${p}/${l}/${g}/${P}/${h}`)}}return d.\u0275fac=function(m){return new(m||d)(o.LFG(n.eN))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},7708:(T,v,a)=>{a.d(v,{x:()=>f});var r=a(2340),o=a(7716),n=a(1841);let f=(()=>{class d{constructor(m){this.http=m,this.apiURL=r.N.apiURL}getPrincipais(){return this.http.get(`${this.apiURL}Principais`)}getPrincipaisParametro_01(m){return this.http.post(`${this.apiURL}principais`,m)}getPrincipal(m,C,p){return this.http.get(`${this.apiURL}principal/${m}/${C}/${p}`)}principalInsert(m){return this.http.post(`${this.apiURL}principal`,m)}principalUpdate(m){return this.http.put(`${this.apiURL}principal`,m)}principalDelete(m,C,p){return this.http.delete(`${this.apiURL}principal/${m}/${C}/${p}`)}}return d.\u0275fac=function(m){return new(m||d)(o.LFG(n.eN))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},9631:(T,v,a)=>{function r(o,n){var f,d,b,m,C,p;try{let l=0;return""!==(null===(f=Object(n).dtinicial)||void 0===f?void 0:f.trim())&&(o.dtinicial=Object(n).dtinicial),""!==(null===(d=Object(n).dtfinal)||void 0===d?void 0:d.trim())&&(o.dtfinal=Object(n).dtfinal),""!==(null===(b=Object(n).orderby)||void 0===b?void 0:b.trim())&&(o.orderby=Object(n).orderby),""!==Object(n).cc&&(o.id_cc=Object(n).cc),""!==Object(n).cc_novo&&(o.new_cc=Object(n).cc_novo),l=parseInt(Object(n).grupo,10),o.id_grupo=isNaN(l)?0:l,l=parseInt(Object(n).situacao,10),o.status=isNaN(l)?0:l,l=parseInt(Object(n).codigo,10),o.id_imobilizado=isNaN(l)?0:l,l=parseInt(Object(n).novo,10),o.new_codigo=isNaN(l)?0:l,l=parseInt(Object(n).condicao,10),o.condicao=isNaN(l)?0:l,""!==(null===(m=Object(n).book)||void 0===m?void 0:m.trim())&&(o.book=Object(n).book),""!==(null===(C=Object(n).descricao)||void 0===C?void 0:C.trim())&&(o.descricao=Object(n).descricao),""!==(null===(p=Object(n).observacao)||void 0===p?void 0:p.trim())&&(o.observacao=Object(n).observacao),l=parseInt(Object(n).executor,10),o.id_usuario=isNaN(l)?0:l,l=parseInt(Object(n).id_principal,10),o.id_principal=isNaN(l)?0:l,""!==Object(n).origem.trim()&&(o.origem=Object(n).origem),o}catch(l){throw l}}a.d(v,{W:()=>r})},8117:(T,v,a)=>{a.d(v,{t:()=>r});class r{constructor(n,f){this.idx=0,this.fotos=[],this.idx=n,this.fotos=f}}},1606:(T,v,a)=>{a.d(v,{t:()=>r});class r{constructor(){this.sigla="",this.descricao=""}}},2607:(T,v,a)=>{a.d(v,{c:()=>C});var r=a(7716),o=a(8583),n=a(1769);function f(p,l){if(1&p&&(r.TgZ(0,"td"),r.TgZ(1,"div",4),r._UZ(2,"img",5),r.qZA(),r.qZA()),2&p){const g=r.oxw().$implicit;r.xp6(2),r.MGl("src","https://drive.google.com/thumbnail?id=",g.fotos[0].id_file,"&sz=w400",r.LSH)}}function d(p,l){if(1&p&&(r.TgZ(0,"td"),r.TgZ(1,"div",4),r._UZ(2,"img",5),r.qZA(),r.qZA()),2&p){const g=r.oxw().$implicit;r.xp6(2),r.MGl("src","https://drive.google.com/thumbnail?id=",g.fotos[1].id_file,"&sz=w400",r.LSH)}}function b(p,l){if(1&p&&(r.TgZ(0,"td"),r.TgZ(1,"div",4),r._UZ(2,"img",5),r.qZA(),r.qZA()),2&p){const g=r.oxw().$implicit;r.xp6(2),r.MGl("src","https://drive.google.com/thumbnail?id=",g.fotos[2].id_file,"&sz=w400",r.LSH)}}function m(p,l){if(1&p&&(r.TgZ(0,"tr"),r.YNc(1,f,3,1,"td",3),r.YNc(2,d,3,1,"td",3),r.YNc(3,b,3,1,"td",3),r.qZA()),2&p){const g=l.$implicit,P=r.oxw();r.xp6(1),r.Q6J("ngIf",P.itsOK(0,g)),r.xp6(1),r.Q6J("ngIf",P.itsOK(1,g)),r.xp6(1),r.Q6J("ngIf",P.itsOK(2,g))}}let C=(()=>{class p{constructor(){this.fotos=[]}ngOnInit(){}itsOK(g,P){return g<=P.fotos.length-1}}return p.\u0275fac=function(g){return new(g||p)},p.\u0275cmp=r.Xpm({type:p,selectors:[["app-browser-foto"]],inputs:{fotos:["FOTOS","fotos"]},decls:3,vars:1,consts:[[1,"Browse_Lanc"],[4,"ngFor","ngForOf"],[1,"material-devider"],[4,"ngIf"],[1,"alinha_esquerda"],[3,"src"]],template:function(g,P){1&g&&(r.TgZ(0,"table",0),r.YNc(1,m,4,3,"tr",1),r.qZA(),r._UZ(2,"mat-divider",2)),2&g&&(r.xp6(1),r.Q6J("ngForOf",P.fotos))},directives:[o.sg,n.d,o.O5],styles:[".material-devider[_ngcontent-%COMP%]{color:red;margin:5px}.minha-imagem[_ngcontent-%COMP%]{width:400px;height:400px}"]}),p})()},2818:(T,v,a)=>{a.d(v,{d:()=>Mo});var r=a(3430),o=a(7716),n=a(8002),f=a(5435),d=a(4395),b=a(7519),m=a(3075),C=a(6407),p=a(4635),l=a(604),g=a(1606),P=a(2174),h=a(6809),w=a(5062),j=a(8495),K=a(5330),I=a(2238),W=a(7360),J=a(4838),q=a(8656),$=a(9617),M=a(2653),V=a(2992),L=a(1023),F=a(1210),Z=a(3679),y=a(3317),H=a(454),Y=a(7466),k=a(5626),Q=a(2704),G=a(6081),z=a(7708),X=a(9219),oo=a(789),to=a(5243),eo=a(1095),ao=a(1436),io=a(6627),B=a(8583),ro=a(7539),D=a(8295),so=a(9983),no=a(8981),co=a(7441),lo=a(2458);function _o(s,u){if(1&s){const t=o.EpF();o.TgZ(0,"button",7),o.NdJ("click",function(){return o.CHM(t),o.oxw().onGetExcelToEmailOrDownLoad("e-mail")}),o.TgZ(1,"mat-icon"),o._uU(2,"email"),o.qZA(),o.qZA()}}function mo(s,u){if(1&s){const t=o.EpF();o.TgZ(0,"button",8),o.NdJ("click",function(){return o.CHM(t),o.oxw().onGetExcelToEmailOrDownLoad("download")}),o.TgZ(1,"mat-icon"),o._uU(2,"cloud_download"),o.qZA(),o.qZA()}}function po(s,u){if(1&s&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&s){const t=o.oxw(2);o.xp6(1),o.Oqu(t.getMensafield("dtinicial"))}}function uo(s,u){if(1&s&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&s){const t=o.oxw(2);o.xp6(1),o.Oqu(t.getMensafield("dtfinal"))}}function ho(s,u){if(1&s&&(o.TgZ(0,"mat-option",39),o._uU(1),o.qZA()),2&s){const t=u.$implicit;o.Q6J("value",t.sigla),o.xp6(1),o.hij(" ",t.descricao," ")}}function go(s,u){if(1&s){const t=o.EpF();o.TgZ(0,"button",25),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).clearValue("cc_descricao")}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA(),o.qZA()}}function vo(s,u){if(1&s){const t=o.EpF();o.TgZ(0,"button",25),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).clearValue("ccnovo_descricao")}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA(),o.qZA()}}function fo(s,u){if(1&s&&(o.TgZ(0,"mat-option",39),o._uU(1),o.qZA()),2&s){const t=u.$implicit;o.Q6J("value",t.codigo),o.xp6(1),o.hij(" ",t.descricao," ")}}function bo(s,u){if(1&s&&(o.TgZ(0,"mat-option",39),o._uU(1),o.qZA()),2&s){const t=u.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.descricao," ")}}function Co(s,u){if(1&s&&(o.TgZ(0,"mat-option",39),o._uU(1),o.qZA()),2&s){const t=u.$implicit;o.Q6J("value",t.sigla),o.xp6(1),o.hij(" ",t.descricao," ")}}function Po(s,u){if(1&s&&(o.TgZ(0,"mat-option",39),o._uU(1),o.qZA()),2&s){const t=u.$implicit;o.Q6J("value",t.id_usuario),o.xp6(1),o.hij(" ",t.razao," ")}}function To(s,u){if(1&s){const t=o.EpF();o.TgZ(0,"button",25),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).clearValue("codigo")}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA(),o.qZA()}}function Eo(s,u){if(1&s){const t=o.EpF();o.TgZ(0,"button",25),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).clearValue("novo")}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA(),o.qZA()}}function Oo(s,u){if(1&s&&(o.TgZ(0,"mat-option",39),o._uU(1),o.qZA()),2&s){const t=u.$implicit;o.Q6J("value",t.idx),o.xp6(1),o.hij(" ",t.descricao," ")}}function Zo(s,u){if(1&s&&(o.TgZ(0,"mat-option",39),o._uU(1),o.qZA()),2&s){const t=u.$implicit;o.Q6J("value",t.sigla),o.xp6(1),o.hij(" ",t.descricao," ")}}function xo(s,u){if(1&s&&(o.TgZ(0,"mat-option",39),o._uU(1),o.qZA()),2&s){const t=u.$implicit;o.Q6J("value",t.codigo),o.xp6(1),o.hij(" ",t.descricao," ")}}function Ao(s,u){if(1&s){const t=o.EpF();o.TgZ(0,"button",25),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).clearValue("descricao")}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA(),o.qZA()}}function Io(s,u){if(1&s){const t=o.EpF();o.TgZ(0,"button",25),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).clearValue("observacao")}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA(),o.qZA()}}function Do(s,u){if(1&s){const t=o.EpF();o.TgZ(0,"form",9),o.TgZ(1,"div",10),o.TgZ(2,"mat-checkbox",11),o.NdJ("change",function(i){return o.CHM(t),o.oxw().onHoje(i)}),o._uU(3,"Hoje"),o.qZA(),o.TgZ(4,"mat-checkbox",12),o.NdJ("change",function(i){return o.CHM(t),o.oxw().onLimpar(i)}),o._uU(5,"Limpar As Datas"),o.qZA(),o.qZA(),o.TgZ(6,"div",13),o.TgZ(7,"mat-form-field",14),o.TgZ(8,"mat-label"),o._uU(9,"Data Inicial"),o.qZA(),o._UZ(10,"input",15),o.YNc(11,po,2,1,"mat-error",16),o.qZA(),o.TgZ(12,"mat-form-field",14),o.TgZ(13,"mat-label"),o._uU(14,"Data Final"),o.qZA(),o._UZ(15,"input",17),o.YNc(16,uo,2,1,"mat-error",16),o.qZA(),o.TgZ(17,"mat-form-field",18),o.TgZ(18,"mat-label"),o._uU(19,"Ordernado Por"),o.qZA(),o.TgZ(20,"mat-select",19),o.NdJ("selectionChange",function(){return o.CHM(t),o.oxw().onChangeParametros()}),o.YNc(21,ho,2,2,"mat-option",20),o.qZA(),o.qZA(),o.qZA(),o.TgZ(22,"div",21),o.TgZ(23,"mat-form-field",22),o.TgZ(24,"mat-label"),o._uU(25,"Centro Custo"),o.qZA(),o._UZ(26,"input",23),o.YNc(27,go,3,0,"button",24),o.TgZ(28,"button",25),o.NdJ("click",function(){return o.CHM(t),o.oxw().onPesquisaCC()}),o.TgZ(29,"mat-icon"),o._uU(30,"search"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(31,"mat-form-field",22),o.TgZ(32,"mat-label"),o._uU(33,"Novo Centro Custo"),o.qZA(),o._UZ(34,"input",26),o.YNc(35,vo,3,0,"button",24),o.TgZ(36,"button",25),o.NdJ("click",function(){return o.CHM(t),o.oxw().onPesquisaCCNovo()}),o.TgZ(37,"mat-icon"),o._uU(38,"search"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(39,"div",21),o.TgZ(40,"mat-form-field",22),o.TgZ(41,"mat-label"),o._uU(42,"Grupos"),o.qZA(),o.TgZ(43,"mat-select",27),o.NdJ("selectionChange",function(){return o.CHM(t),o.oxw().onChangeParametros()}),o.YNc(44,fo,2,2,"mat-option",20),o.qZA(),o.qZA(),o.TgZ(45,"mat-form-field",22),o.TgZ(46,"mat-label"),o._uU(47,"Situa\xe7\xf5es"),o.qZA(),o.TgZ(48,"mat-select",28),o.NdJ("selectionChange",function(){return o.CHM(t),o.oxw().onChangeParametros()}),o.YNc(49,bo,2,2,"mat-option",20),o.qZA(),o.qZA(),o.qZA(),o.TgZ(50,"div",21),o.TgZ(51,"mat-form-field",22),o.TgZ(52,"mat-label"),o._uU(53,"Origem"),o.qZA(),o.TgZ(54,"mat-select",29),o.NdJ("selectionChange",function(){return o.CHM(t),o.oxw().onChangeParametros()}),o.YNc(55,Co,2,2,"mat-option",20),o.qZA(),o.qZA(),o.TgZ(56,"mat-form-field",22),o.TgZ(57,"mat-label"),o._uU(58,"Executores"),o.qZA(),o.TgZ(59,"mat-select",30),o.NdJ("selectionChange",function(){return o.CHM(t),o.oxw().onChangeParametros()}),o.YNc(60,Po,2,2,"mat-option",20),o.qZA(),o.qZA(),o.qZA(),o.TgZ(61,"div",13),o.TgZ(62,"mat-form-field",14),o.TgZ(63,"mat-label"),o._uU(64,"C\xf3digo"),o.qZA(),o._UZ(65,"input",31),o.YNc(66,To,3,0,"button",24),o.qZA(),o.TgZ(67,"mat-form-field",14),o.TgZ(68,"mat-label"),o._uU(69,"Novo"),o.qZA(),o._UZ(70,"input",32),o.YNc(71,Eo,3,0,"button",24),o.qZA(),o.TgZ(72,"mat-form-field",22),o.TgZ(73,"mat-label"),o._uU(74,"Condi\xe7\xe3o"),o.qZA(),o.TgZ(75,"mat-select",33),o.NdJ("selectionChange",function(){return o.CHM(t),o.oxw().onChangeParametros()}),o.YNc(76,Oo,2,2,"mat-option",20),o.qZA(),o.qZA(),o.TgZ(77,"mat-form-field",22),o.TgZ(78,"mat-label"),o._uU(79,"Book"),o.qZA(),o.TgZ(80,"mat-select",34),o.NdJ("selectionChange",function(){return o.CHM(t),o.oxw().onChangeParametros()}),o.YNc(81,Zo,2,2,"mat-option",20),o.qZA(),o.qZA(),o.qZA(),o.TgZ(82,"div",35),o.TgZ(83,"mat-form-field",22),o.TgZ(84,"mat-label"),o._uU(85,"Principal"),o.qZA(),o.TgZ(86,"mat-select",36),o.NdJ("selectionChange",function(){return o.CHM(t),o.oxw().onChangeParametros()}),o.YNc(87,xo,2,2,"mat-option",20),o.qZA(),o.qZA(),o.qZA(),o.TgZ(88,"div",35),o.TgZ(89,"mat-form-field",14),o.TgZ(90,"mat-label"),o._uU(91,"Descri\xe7\xe3o"),o.qZA(),o._UZ(92,"input",37),o.YNc(93,Ao,3,0,"button",24),o.qZA(),o.qZA(),o.TgZ(94,"div",35),o.TgZ(95,"mat-form-field",14),o.TgZ(96,"mat-label"),o._uU(97,"Observa\xe7\xe3o"),o.qZA(),o._UZ(98,"input",38),o.YNc(99,Io,3,0,"button",24),o.qZA(),o.qZA(),o.qZA()}if(2&s){const t=o.oxw();o.Q6J("formGroup",t.parametros),o.xp6(11),o.Q6J("ngIf",t.NoValidtouchedOrDirty("dtinicial")),o.xp6(5),o.Q6J("ngIf",t.NoValidtouchedOrDirty("dtfinal")),o.xp6(5),o.Q6J("ngForOf",t.orderby),o.xp6(5),o.Q6J("readonly",!0),o.xp6(1),o.Q6J("ngIf",t.hasValue("cc_descricao")),o.xp6(7),o.Q6J("readonly",!0),o.xp6(1),o.Q6J("ngIf",t.hasValue("ccnovo_descricao")),o.xp6(9),o.Q6J("ngForOf",t.grupos),o.xp6(5),o.Q6J("ngForOf",t.situacoesInventarioPar),o.xp6(6),o.Q6J("ngForOf",t.Origens),o.xp6(5),o.Q6J("ngForOf",t.executores),o.xp6(6),o.Q6J("ngIf",t.hasValue("codigo")),o.xp6(5),o.Q6J("ngIf",t.hasValue("novo")),o.xp6(5),o.Q6J("ngForOf",t.condicoes),o.xp6(5),o.Q6J("ngForOf",t.respostas),o.xp6(6),o.Q6J("ngForOf",t.principais),o.xp6(6),o.Q6J("ngIf",t.hasValue("descricao")),o.xp6(6),o.Q6J("ngIf",t.hasValue("observacao"))}}let Mo=(()=>{class s{constructor(t,e,i,_,E,O,x,A,R,c,So,Uo,No){this.formBuilder=t,this.globalService=e,this.localStorageService=i,this.grupoService=_,this.parametrosService=E,this.centrocustoService=O,this.lancamentoService=x,this.principalService=A,this.emailService=R,this.appSnackBar=c,this.EmailDialog=So,this.DownLoadDialog=Uo,this.searchDialogService=No,this.paramName="",this.retorno=!1,this.email=!1,this.download=!1,this.controle_paginas=new r.e(50,0),this.hide=!0,this.change=new o.vpe,this.changeHide=new o.vpe,this.grupos=[],this.ccs=[],this.ccs_alterados=[],this.condicoes=[],this.respostas=[],this.situacoesInventario=[],this.situacoesInventarioPar=[],this.Origens=[],this.usuarios=[],this.lancamento=new C.E,this.principais=[],this.showFiltro=!0,this.executores=[],this.hideAcao="Ocultar",this.orderby=[{sigla:"001",descricao:"Ativo-Antigo"},{sigla:"002",descricao:"Ativo-Novo"},{sigla:"003",descricao:"CC-Antigo"},{sigla:"004",descricao:"CC-Novo"},{sigla:"005",descricao:"Grupo"},{sigla:"006",descricao:"Descri\xe7\xe3o"},{sigla:"007",descricao:"Observa\xe7\xe3o"},{sigla:"008",descricao:"Data Lan\xe7amento"}],this.parametro=new M.M,this.enable_filter=!0,this.parametros=t.group({hoje:[{value:""}],cleardate:[{value:""}],dtinicial:[{value:""}],dtfinal:[{value:""}],orderby:[{value:""}],cc_descricao:[{value:""}],ccnovo_descricao:[{value:""}],grupos:[{value:""}],situacoes:[{value:""}],origem:[{value:""}],executor:[{value:""}],codigo:[{value:""}],novo:[{value:""}],id_principal:[{value:""}],condicao:[{value:""}],book:[{value:""}],descricao:[{value:""}],observacao:[{value:""}],chaves:t.group({cc:[{value:""}],cc_novo:[{value:""}]})}),this.situacoesInventario=this.globalService.getSituacoesInventario(),this.situacoesInventarioPar=this.globalService.getSituacoesInventarioPar(),this.condicoes=this.globalService.getCondicoes();const S=new g.t;S.sigla="",S.descricao="Todos";const U=new g.t;U.sigla="S",U.descricao="SIM";const N=new g.t;N.sigla="N",N.descricao="N\xc3O",this.respostas.push(S),this.respostas.push(U),this.respostas.push(N),this.Origens.push(new m.x("","Todas")),this.Origens=[...this.Origens,...this.globalService.getOrigens()],this.setHide(),this.setValuesNoParam(),this.getExecutores(),this.getGrupos()}ngOnInit(){var t,e,i,_,E,O,x,A;this.localStorageService.getParametroModel(this.paramName),null===(t=this.parametros.get("dtinicial"))||void 0===t||t.valueChanges.pipe((0,n.U)(c=>c.trim()),(0,f.h)(c=>c.length>=10),(0,d.b)(350),(0,b.x)()).subscribe(c=>this.onChangeParametros()),null===(e=this.parametros.get("dtfinal"))||void 0===e||e.valueChanges.pipe((0,n.U)(c=>c.trim()),(0,f.h)(c=>c.length>=10),(0,d.b)(350),(0,b.x)()).subscribe(c=>this.onChangeParametros()),null===(i=this.parametros.get("codigo"))||void 0===i||i.valueChanges.pipe((0,n.U)(c=>c.trim()),(0,f.h)(c=>c.length>0),(0,d.b)(350),(0,b.x)()).subscribe(c=>this.onChangeParametros()),null===(_=this.parametros.get("cc_descricao"))||void 0===_||_.valueChanges.pipe((0,n.U)(c=>c.trim()),(0,f.h)(c=>c.length>0),(0,d.b)(350),(0,b.x)()).subscribe(c=>this.onChangeParametros()),null===(E=this.parametros.get("ccnovo_descricao"))||void 0===E||E.valueChanges.pipe((0,n.U)(c=>c.trim()),(0,f.h)(c=>c.length>0),(0,d.b)(350),(0,b.x)()).subscribe(c=>this.onChangeParametros()),null===(O=this.parametros.get("novo"))||void 0===O||O.valueChanges.pipe((0,n.U)(c=>c.trim()),(0,f.h)(c=>c.length>0),(0,d.b)(350),(0,b.x)()).subscribe(c=>this.onChangeParametros()),null===(x=this.parametros.get("descricao"))||void 0===x||x.valueChanges.pipe((0,n.U)(c=>c.trim().toUpperCase()),(0,f.h)(c=>c.length>0),(0,d.b)(350),(0,b.x)()).subscribe(c=>{this.onChangeParametros()}),null===(A=this.parametros.get("observacao"))||void 0===A||A.valueChanges.pipe((0,n.U)(c=>c.trim().toUpperCase()),(0,f.h)(c=>c.length>0),(0,d.b)(350),(0,b.x)()).subscribe(c=>{this.onChangeParametros()})}ngOnDestroy(){var t,e,i,_,E,O;null===(t=this.inscricaoGetGrupo)||void 0===t||t.unsubscribe(),null===(e=this.inscricaoParametro)||void 0===e||e.unsubscribe(),null===(i=this.inscricaoExecutores)||void 0===i||i.unsubscribe(),null===(_=this.inscricaoExcel)||void 0===_||_.unsubscribe(),null===(E=this.inscricaoEmail)||void 0===E||E.unsubscribe(),null===(O=this.inscricaoPrincipais)||void 0===O||O.unsubscribe()}getExecutores(){let t=new j.G;t.id_empresa=this.globalService.getEmpresa().id,t.id_filial=this.globalService.getLocal().id,t.id_inventario=this.globalService.getInventario().codigo,this.globalService.setSpin(!0),this.inscricaoExecutores=this.lancamentoService.resumolancamentos(t).subscribe(e=>{this.globalService.setSpin(!1);const i=new p.S;i.id_usuario=0,i.razao="Todos",this.executores.push(i),this.executores=[...this.executores,...e]},e=>{this.globalService.setSpin(!1);const i=new p.S;i.id_usuario=0,i.razao="Todos",this.executores.push(i)})}getGrupos(){let t=new P.t;t.id_empresa=this.globalService.getIdEmpresa(),t.id_filial=this.globalService.getLocal().id,t.orderby="Grupo",this.globalService.setSpin(!0),this.inscricaoGetGrupo=this.grupoService.getGruposParametro_01(t).subscribe(e=>{this.globalService.setSpin(!1);const i=new l.b;i.codigo=0,i.descricao="Todos",this.grupos=[],this.grupos.push(i),this.grupos=[...this.grupos,...e],this.getPrincipais()},e=>{this.globalService.setSpin(!1),this.grupos=[],this.setValues(),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Grupos ${(0,h.bZ)(e)}`,"OK")})}getPrincipais(){let t=new V.h;t.id_empresa=this.globalService.getIdEmpresa(),t.id_filial=this.globalService.getLocal().id,t.orderby="Descri\xe7\xe3o",this.globalService.setSpin(!0),this.inscricaoPrincipais=this.principalService.getPrincipaisParametro_01(t).subscribe(e=>{this.globalService.setSpin(!1);const i=new L.H;i.codigo=0,i.descricao="Todos",this.principais=[],this.principais.push(i),this.principais=[...this.principais,...e],this.loadParametros()},e=>{this.globalService.setSpin(!1);const i=new L.H;i.codigo=0,i.descricao="Todos",this.principais=[],this.principais.push(i),this.loadParametros()})}onGetExcelToEmailOrDownLoad(t){"E-MAIL"==t.toUpperCase()?this.openEmailDialog():this.openDownLoadDialog()}sendMail(t){let e=new K.D;e.id_empresa=this.globalService.getIdEmpresa(),e.id_filial=this.globalService.getLocal().id,e.id_inventario=this.globalService.getInventario().codigo,e.assunto="Relat\xf3rio Dos Ativos Do Invent\xe1rio",e.destinatario=this.globalService.usuario.email,e.mensagem="Mensagem enviada automaticamento por solicita\xe7\xe3o do usu\xe1rio. Favor Verificar Anexo.",e.fileName=t,this.globalService.setSpin(!0),this.inscricaoEmail=this.emailService.sendEmailV2(e).subscribe(i=>{this.globalService.setSpin(!1),this.appSnackBar.openSuccessSnackBar("E-Mail Enviado Com Sucesso!","OK")},i=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Produtos De Invent\xe1rio ${(0,h.bZ)(i)}`,"OK")})}setValues(){var t,e,i;this.enable_filter=!1,this.parametros.setValue({hoje:!1,cleardate:!1,dtinicial:(0,h.SL)(this.parametro.getParametro(),"dtinicial"),dtfinal:(0,h.SL)(this.parametro.getParametro(),"dtfinal"),orderby:(0,h.SL)(this.parametro.getParametro(),"orderby"),cc_descricao:(0,h.SL)(this.parametro.getParametro(),"cc_descricao"),ccnovo_descricao:(0,h.SL)(this.parametro.getParametro(),"ccnovo_descricao"),grupos:(0,h.P0)(this.parametro.getParametro(),"grupo"),situacoes:(0,h.SL)(this.parametro.getParametro(),"situacao"),codigo:null===(t=(0,h.P0)(this.parametro.getParametro(),"codigo"))||void 0===t?void 0:t.toString(),id_principal:null===(e=(0,h.P0)(this.parametro.getParametro(),"id_principal"))||void 0===e?void 0:e.toString(),novo:null===(i=(0,h.P0)(this.parametro.getParametro(),"novo"))||void 0===i?void 0:i.toString(),origem:(0,h.SL)(this.parametro.getParametro(),"origem"),executor:(0,h.P0)(this.parametro.getParametro(),"executor"),condicao:(0,h.P0)(this.parametro.getParametro(),"condicao"),book:(0,h.SL)(this.parametro.getParametro(),"book"),descricao:(0,h.SL)(this.parametro.getParametro(),"descricao"),observacao:(0,h.SL)(this.parametro.getParametro(),"observacao"),chaves:{cc:(0,h.SL)(this.parametro.getParametro(),"cc"),cc_novo:(0,h.SL)(this.parametro.getParametro(),"cc_novo")}}),this.enable_filter=!0}setValuesNoParam(){this.enable_filter=!1,this.parametros.setValue({hoje:!1,cleardate:!1,dtinicial:"",dtfinal:"",orderby:"001",grupos:0,situacoes:-1,codigo:"",novo:"",id_principal:0,origem:"",executor:0,condicao:"0",book:"",descricao:"",observacao:"",cc_descricao:"Todos",ccnovo_descricao:"Todos N\xe3o Alterados",chaves:{cc:"",cc_novo:""}}),this.enable_filter=!0}setHide(){this.hide=!this.hide,this.hideAcao=this.hide?"Mostrar":"Ocultar"}loadParametros(){this.parametro=new M.M,this.parametro.id_empresa=this.globalService.getIdEmpresa(),this.parametro.modulo=this.paramName,this.parametro.assinatura="V1.00 22/11/2024",this.parametro.id_usuario=this.globalService.usuario.id,this.parametro.parametro='\n       {\n         "dtinicial":"",\n         "dtfinal":"",\n         "cc": "",\n         "cc_novo":"",\n         "grupo":0,\n         "situacao":-1,\n         "codigo":0,\n         "novo":0,\n         "origem":"",\n         "executor":0,\n         "condicao":0,\n         "book":"",\n         "descricao": "",\n         "observacao": "",\n         "dtinicial":"",\n         "dtfinal":"",\n         "id_principal":0,\n         "cc_descricao":"Todos",\n         "ccnovo_descricao":"Todos N\xe3o Alterados",\n         "orderby":"001",\n         "page": 1,\n         "new": false,\n         "id_retorno":0\n       }';const t=this.localStorageService.getParametroModel(this.paramName);null!==t?(this.parametro.load(t),this.setValues()):this.getParametro()}getParametro(){this.globalService.setSpin(!0);let t=new w.E;t.id_empresa=this.parametro.id_empresa,t.modulo=this.parametro.modulo,t.assinatura=this.parametro.assinatura,t.id_usuario=this.parametro.id_usuario,t.orderby="Usu\xe1rio",this.inscricaoParametro=this.parametrosService.getParametrosParametro01(t).subscribe(e=>{this.globalService.setSpin(!1),this.parametro=new M.M,this.parametro.id_empresa=e[0].id_empresa,this.parametro.modulo=e[0].modulo,this.parametro.id_usuario=e[0].id_usuario,this.parametro.assinatura=e[0].assinatura,this.parametro.parametro=e[0].parametro,this.parametro.user_insert=e[0].user_insert,this.parametro.user_update=e[0].user_update,this.setValues(),this.onChangeParametros(!1)},e=>{this.globalService.setSpin(!1),this.setValuesNoParam(),this.onChangeParametros()})}updateParametros(){this.globalService.setSpin(!0),this.parametro.user_insert=this.globalService.usuario.id,this.parametro.user_update=this.globalService.usuario.id,this.refreshParametro(),this.inscricaoParametro=this.parametrosService.ParametroAtualiza(this.parametro).subscribe(t=>{this.globalService.setSpin(!1),this.appSnackBar.openSuccessSnackBar("Par\xe2metros Atualizados","OK")},t=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Grava\xe7\xe3o Dos Parametros ${(0,h.bZ)(t)}`,"OK")})}refreshParametro(t=!0){var e,i;let _=this.parametro.getParametro();Object(_).cc=null===(e=this.parametros.get("chaves.cc"))||void 0===e?void 0:e.value,Object(_).cc_descricao=this.parametros.value.cc_descricao,Object(_).cc_novo=null===(i=this.parametros.get("chaves.cc_novo"))||void 0===i?void 0:i.value,Object(_).ccnovo_descricao=this.parametros.value.ccnovo_descricao,Object(_).grupo=this.parametros.value.grupos,Object(_).situacao=this.parametros.value.situacoes,Object(_).codigo=this.parametros.value.codigo,Object(_).novo=this.parametros.value.novo,Object(_).origem=this.parametros.value.origem,Object(_).executor=this.parametros.value.executor,Object(_).condicao=this.parametros.value.condicao,Object(_).book=this.parametros.value.book,Object(_).descricao=this.parametros.value.descricao.toUpperCase(),Object(_).observacao=this.parametros.value.observacao.toUpperCase(),Object(_).dtinicial=this.parametros.value.dtinicial,Object(_).dtfinal=this.parametros.value.dtfinal,Object(_).id_principal=this.parametros.value.id_principal,Object(_).orderby=this.parametros.value.orderby,this.parametro.parametro=JSON.stringify(_)}onChangeParametros(t=!0){this.refreshParametro(t),this.enable_filter&&this.change.emit(this.parametro)}onSaveConfig(){this.updateParametros()}onHide(){this.setHide(),this.changeHide.emit(this.hide)}onPesquisaCC(){this.searchDialogService.openSearchDialog(F.D.CC).beforeClosed().subscribe(t=>{if(t){if(t.retornoTodos)return void this.parametros.patchValue({cc_descricao:"Todos",chaves:{cc:""}});t.cancelar||this.parametros.patchValue({cc_descricao:`${t.retorno.codigo.replace("#","-")}-${t.retorno.descricao}`,chaves:{cc:t.retorno.codigo}})}})}onPesquisaCCNovo(){this.searchDialogService.openSearchDialog(F.D.CC).beforeClosed().subscribe(t=>{if(t){if(t.retornoTodos)return void this.parametros.patchValue({ccnovo_descricao:"Todos",chaves:{cc_novo:""}});t.cancelar||this.parametros.patchValue({ccnovo_descricao:`${t.retorno.codigo.replace("#","-")}-${t.retorno.descricao}`,chaves:{cc_novo:t.retorno.codigo}})}})}hasValue(t){var e;return""!=(null===(e=this.parametros.get(t))||void 0===e?void 0:e.value)}clearValue(t){"cc_descricao"==t&&this.parametros.patchValue({cc_descricao:"Todos",chaves:{cc:""}}),"ccnovo_descricao"==t&&this.parametros.patchValue({ccnovo_descricao:"Todos",chaves:{cc_novo:""}}),"descricao"==t&&this.parametros.patchValue({descricao:""}),"observacao"==t&&this.parametros.patchValue({observacao:""}),"codigo"==t&&this.parametros.patchValue({codigo:""}),"novo"==t&&this.parametros.patchValue({novo:""}),"id_principal"==t&&this.parametros.patchValue({id_principal:""}),this.onChangeParametros()}ChangeValue(t,e){"descricao"==t&&this.parametros.patchValue({descricao:e}),"observacao"==t&&this.parametros.patchValue({observacao:e})}openEmailDialog(){const t=new W.o;t.titulo="ENVIAR CONSULTA VIA E-MAIL",t.destinatario=this.globalService.usuario.email,t.escopo="T",t.labelBottomNao="Cancelar",t.labelBottonSim="Processar",t.id_empresa=this.globalService.empresa.id,t.id_filial=this.globalService.local.id,t.id_inventario=this.globalService.inventario.codigo,t.pagina=this.controle_paginas.getPaginalAtual(),t.parametro=this.parametro;const e=new I.vA;e.disableClose=!0,e.id="consulta-email",e.width="800px",e.data=t,this.EmailDialog.open(J.G,e).beforeClosed().subscribe(_=>{})}openDownLoadDialog(){console.log("Pagina: ",this.controle_paginas.getPaginalAtual());const t=new q.d;t.titulo="DOWNLOAD DE CONSULTA",t.escopo="T",t.labelBottomNao="Cancelar",t.labelBottonSim="Processar",t.id_empresa=this.globalService.empresa.id,t.id_filial=this.globalService.local.id,t.id_inventario=this.globalService.inventario.codigo,t.pagina=this.controle_paginas.getPaginalAtual(),t.parametro=this.parametro;const e=new I.vA;e.disableClose=!0,e.id="consulta-download",e.width="800px",e.data=t,this.DownLoadDialog.open($.G,e).beforeClosed().subscribe(_=>{})}NoValidtouchedOrDirty(t){var e,i,_;return!((null===(e=this.parametros.get(t))||void 0===e?void 0:e.valid)||!(null===(i=this.parametros.get(t))||void 0===i?void 0:i.touched)&&!(null===(_=this.parametros.get(t))||void 0===_?void 0:_.dirty))}getMensafield(t){var e,i;return null===(i=null===(e=this.parametros.get(t))||void 0===e?void 0:e.errors)||void 0===i?void 0:i.message}onHoje(t){if(t.checked){let e=new Date(Date.now()).toLocaleString().split(",")[0];this.parametros.patchValue({dtinicial:e,dtfinal:e,hoje:!1}),this.onChangeParametros()}}onLimpar(t){t.checked&&this.parametros.patchValue({dtinicial:"",dtfinal:"",cleardate:!1}),this.onChangeParametros()}}return s.\u0275fac=function(t){return new(t||s)(o.Y36(Z.qu),o.Y36(y.U),o.Y36(H.n),o.Y36(Y.Z),o.Y36(k.u),o.Y36(Q.T),o.Y36(G.l),o.Y36(z.x),o.Y36(X.j),o.Y36(oo.W),o.Y36(I.uw),o.Y36(I.uw),o.Y36(to.w))},s.\u0275cmp=o.Xpm({type:s,selectors:[["app-filtro-imoinventario"]],inputs:{paramName:["PARAMNAME","paramName"],retorno:["RETORNO","retorno"],email:["EMAIL","email"],download:["DOWNLOAD","download"],controle_paginas:["CONTROLE_PAGINAS","controle_paginas"],hide:["HIDE","hide"]},outputs:{change:"changeParametro",changeHide:"changeHide"},decls:12,vars:3,consts:[[1,"div-barra"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Salvar Par\xe2metros","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Enviar Consulta Por E-Mail","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Baixar A Consulta","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Mostrar/Esconder","matTooltipPosition","above",3,"click"],["autocomplete","off",3,"formGroup",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Enviar Consulta Por E-Mail","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Baixar A Consulta","matTooltipPosition","above",3,"click"],["autocomplete","off",3,"formGroup"],[1,"check"],["formControlName","hoje",1,"check-margem",3,"change"],["formControlName","cleardate",1,"check-margem",3,"change"],[1,"col-med-4"],["appearance","outline",1,"col-max"],["matInput","","formControlName","dtinicial","mask","00/00/0000","placeholder","dd/mm/aaaa"],[4,"ngIf"],["matInput","","formControlName","dtfinal","mask","00/00/0000","placeholder","dd/mm/aaaa"],["field","","appearance","outline",1,"column-span-2"],["formControlName","orderby",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-med-2"],["field","","appearance","outline",1,"col-max"],["matInput","","formControlName","cc_descricao",1,"uppercase",3,"readonly"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","formControlName","ccnovo_descricao",1,"uppercase",3,"readonly"],["formControlName","grupos",3,"selectionChange"],["formControlName","situacoes",3,"selectionChange"],["formControlName","origem",3,"selectionChange"],["formControlName","executor",3,"selectionChange"],["matInput","","formControlName","codigo"],["matInput","","formControlName","novo"],["formControlName","condicao",3,"selectionChange"],["formControlName","book",3,"selectionChange"],[1,"col-med-1"],["formControlName","id_principal",3,"selectionChange"],["matInput","","formControlName","descricao",1,"uppercase"],["matInput","","formControlName","observacao",1,"uppercase"],[3,"value"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"span",1),o._uU(2,"Filtro Da Pesquisa"),o.qZA(),o.TgZ(3,"button",2),o.NdJ("click",function(){return e.onSaveConfig()}),o.TgZ(4,"mat-icon"),o._uU(5,"brightness_high"),o.qZA(),o.qZA(),o.YNc(6,_o,3,0,"button",3),o.YNc(7,mo,3,0,"button",4),o.TgZ(8,"button",5),o.NdJ("click",function(){return e.onHide()}),o.TgZ(9,"mat-icon"),o._uU(10,"remove_red_eye"),o.qZA(),o.qZA(),o.qZA(),o.YNc(11,Do,100,19,"form",6)),2&t&&(o.xp6(6),o.Q6J("ngIf",e.email),o.xp6(1),o.Q6J("ngIf",e.download),o.xp6(4),o.Q6J("ngIf",!e.hide))},directives:[eo.lW,ao.gM,io.Hw,B.O5,Z._Y,Z.JL,Z.sg,ro.oG,Z.JJ,Z.u,D.KE,D.hX,so.Nt,Z.Fj,no.hx,co.gD,B.sg,D.R9,D.TO,lo.ey],styles:[".ckeck[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.check-margem[_ngcontent-%COMP%]{margin:0 10px}"]}),s})()}}]);