"use strict";(self.webpackChunkinventario=self.webpackChunkinventario||[]).push([[697],{2697:(ra,C,i)=>{i.r(C),i.d(C,{ValorModule:()=>ta});var _=i(8583),h=i(4655),g=i(9243),Z=i(2653),E=i(5062);class q{constructor(){this.id_empresa=0,this.id_filial=0,this.id_imobilizado=0,this.pagina=0,this.tamPagina=50,this.contador="N",this.orderby="",this.sharp=!1}}var m=i(3032),A=i(3430),n=i(6809),a=i(7716),c=i(3679),O=i(3317),V=i(6320),j=i(5626),P=i(789),I=i(2522),z=i(3968),y=i(1095),w=i(1436),x=i(6627),v=i(8295),F=i(7441),U=i(9983),k=i(2458),D=i(7234);function B(r,s){if(1&r&&(a.TgZ(0,"mat-option",18),a._uU(1),a.qZA()),2&r){const e=s.$implicit;a.Q6J("value",e),a.xp6(1),a.hij(" ",e," ")}}function Q(r,s){if(1&r&&(a.TgZ(0,"mat-option",18),a._uU(1),a.qZA()),2&r){const e=s.$implicit;a.Q6J("value",e),a.xp6(1),a.hij(" ",e," ")}}function Y(r,s){if(1&r){const e=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a.TgZ(2,"div"),a.TgZ(3,"mat-label",19),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"td"),a.TgZ(6,"div"),a.TgZ(7,"mat-label",19),a._uU(8),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"td"),a.TgZ(10,"div",20),a.TgZ(11,"mat-label",19),a._uU(12),a.qZA(),a.qZA(),a.qZA(),a.TgZ(13,"td"),a.TgZ(14,"div",21),a.TgZ(15,"mat-label",19),a._uU(16),a.ALo(17,"number"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"td"),a.TgZ(19,"div",21),a.TgZ(20,"mat-label",19),a._uU(21),a.ALo(22,"number"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(23,"td",22),a.TgZ(24,"barra-acoes",23),a.NdJ("changeOpcao",function(t){const u=a.CHM(e).$implicit;return a.oxw().escolha(t,u)}),a.qZA(),a.qZA(),a.qZA()}if(2&r){const e=s.$implicit;a.xp6(4),a.Oqu(e.id_imobilizado),a.xp6(4),a.Oqu(e.imo_descricao),a.xp6(4),a.Oqu(e.dtaquisicao),a.xp6(4),a.Oqu(a.xi3(17,8,e.vlraquisicao,"1.2-2")),a.xp6(5),a.Oqu(a.xi3(22,11,e.totaldepreciado,"1.2-2")),a.xp6(3),a.Q6J("BARRA_VERTICAL",!0)("BARRA_ATIVIDADES",!1)("EXCLUIR",!1)}}let N=(()=>{class r{constructor(e,o,t,l,u,p,d,f){this.formBuilder=e,this.globalService=o,this.valorService=t,this.parametroService=l,this.router=u,this.appSnackBar=p,this.route=d,this.ngZone=f,this.valores=[],this.erro="",this.opcoesOrdenacao=[],this.opcoesCampo=[],this.tamPagina=50,this.controlePaginas=new A.e(this.tamPagina,0),this.retorno=!1,this.parametro=new Z.M,this.parametros=e.group({ordenacao:[null],campo:[null],filtro:[null],grupo:[]}),this.inscricaoRota=d.params.subscribe(b=>{void 0===b.retorno?this.retorno=!1:(this.retorno=!0,this.globalService.estadoFind("valor"))}),this.loadParametros()}ngOnInit(){}ngOnDestroy(){var e,o,t,l,u;null===(e=this.inscricaoGetAll)||void 0===e||e.unsubscribe(),null===(o=this.inscricaoGetFiltro)||void 0===o||o.unsubscribe(),null===(t=this.inscricaoGetGrupo)||void 0===t||t.unsubscribe(),null===(l=this.inscricaoRota)||void 0===l||l.unsubscribe(),null===(u=this.inscricaoParametro)||void 0===u||u.unsubscribe()}escolha(e,o){if(void 0!==o){let t=this.parametro.getParametro();Object(t).new=!1,Object(t).id_retorno=o.id_imobilizado,Object(t).page=this.controlePaginas.getPaginalAtual(),Object(t).op_ordenacao=this.opcoesOrdenacao.findIndex(l=>this.parametros.value.ordenacao==l),Object(t).op_pesquisar=this.opcoesCampo.findIndex(l=>this.parametros.value.campo==l),Object(t).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(t),this.globalService.estadoSave(this.parametro),this.router.navigate(["/valores/valor",o.id_empresa,o.id_filial,o.id_imobilizado,e])}else{let t=this.parametro.getParametro();Object(t).new=!1,Object(t).id_retorno=0,Object(t).page=this.controlePaginas.getPaginalAtual(),Object(t).op_ordenacao=this.opcoesOrdenacao.findIndex(l=>this.parametros.value.ordenacao==l),Object(t).op_pesquisar=this.opcoesCampo.findIndex(l=>this.parametros.value.campo==l),Object(t).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(t),this.globalService.estadoSave(this.parametro),this.router.navigate(["/valores/valor",this.globalService.getIdEmpresa(),this.globalService.getLocal().id,0,e])}}getAcoes(){return m.I}setValues(){this.parametros.setValue({ordenacao:this.opcoesOrdenacao[(0,n.P0)(this.parametro.getParametro(),"op_ordenacao")],campo:this.opcoesCampo[(0,n.P0)(this.parametro.getParametro(),"op_pesquisar")],filtro:(0,n.SL)(this.parametro.getParametro(),"descricao"),grupo:1})}getValores(){let e=new q;if(e.id_empresa=this.globalService.getIdEmpresa(),e.id_filial=this.globalService.getLocal().id,e.orderby=this.parametros.value.ordenacao,"Imobilizado"==this.parametros.value.campo){let o=parseInt(this.parametros.value.filtro,10);e.id_imobilizado=isNaN(o)?0:o}e.pagina=this.controlePaginas.getPaginalAtual(),e.contador="N",e.tamPagina=this.tamPagina,this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.valorService.getValoresParametro_01(e).subscribe(o=>{this.globalService.setSpin(!1),this.valores=[],this.valores=o;const t=this.valores.findIndex(u=>u.id_imobilizado==(0,n.P0)(this.parametro.getParametro(),"id_retorno"));setTimeout(()=>this.viewPort.scrollToIndex(t),10),this.retorno=!1;let l=this.parametro.getParametro();Object(l).id_retorno=0,Object(l).new=!1,this.parametro.parametro=JSON.stringify(l)},o=>{let t=this.parametro.getParametro();Object(t).id_retorno=0,Object(t).new=!1,this.retorno=!1,this.globalService.setSpin(!1),this.valores=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Valores ${(0,n.bZ)(o)}`,"OK")})}getValoresContador(){let e=new q;e.id_empresa=this.globalService.getIdEmpresa(),e.id_filial=this.globalService.getLocal().id,e.orderby=this.parametros.value.ordenacao,e.contador="S",e.tamPagina=this.tamPagina,this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.valorService.getValoresParametro_01(e).subscribe(o=>{if(this.globalService.setSpin(!1),this.controlePaginas=new A.e(this.tamPagina,0==o.total?1:o.total),this.retorno)if((0,n.xc)(this.parametro.getParametro(),"new"))this.controlePaginas.goLast();else{let t=this.parametro.getParametro();this.controlePaginas.setPaginaAtual(Object(t).page)}this.getValores()},o=>{this.globalService.setSpin(!1),this.controlePaginas=new A.e(this.tamPagina,0),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Valores ${(0,n.bZ)(o)}`,"OK")})}getTexto(){return n.fd}onChangePage(){this.getValores()}onChangeParametros(){this.getValoresContador()}onHome(){this.router.navigate([""])}onSaveConfig(){this.updateParametros()}loadParametros(){if(this.parametro=new Z.M,this.parametro.id_empresa=this.globalService.getIdEmpresa(),this.parametro.modulo="valor",this.parametro.assinatura="V1.00 26/08/23",this.parametro.id_usuario=this.globalService.usuario.id,this.parametro.parametro='\n      {\n        "op_ordenacao": 0,\n        "ordenacao": ["Imobiliado"],\n        "op_pesquisar": 0,\n        "pesquisar": ["Imobilizado"],\n        "descricao": "",\n        "page": 1,\n        "new": false,\n        "id_retorno":0\n      }',this.opcoesOrdenacao=(0,n.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,n.FO)(this.parametro.getParametro(),"pesquisar"),this.retorno&&null!==this.globalService.estadoFind("imobilizado")){const e=this.globalService.estadoFind("imobilizado");if(null!=e){if((0,n.xc)(e.getParametro(),"new")){let o=this.parametro.getParametro();Object(o).id_retorno=(0,n.P0)(e.getParametro(),"id_retorno"),this.parametro.parametro=JSON.stringify(o),this.setPosicaoInclusao()}else this.controlePaginas.setPaginaAtual((0,n.P0)(e.getParametro(),"page")),this.parametro.setParametro(e.getParametro());this.globalService.estadoDelete(e),this.setValues(),this.getValoresContador()}}else this.getParametro()}setPosicaoInclusao(){const e=this.parametro.getParametro();Object(e).op_ordenacao=0,Object(e).op_pesquisar=0,Object(e).descricao="",Object(e).new=!0,this.parametro.setParametro(e)}getParametro(){this.globalService.setSpin(!0);let e=new E.E;e.id_empresa=this.parametro.id_empresa,e.modulo=this.parametro.modulo,e.assinatura=this.parametro.assinatura,e.id_usuario=this.parametro.id_usuario,e.orderby="Usu\xe1rio",this.inscricaoParametro=this.parametroService.getParametrosParametro01(e).subscribe(o=>{this.globalService.setSpin(!1),this.parametro=new Z.M,this.parametro.id_empresa=o[0].id_empresa,this.parametro.modulo=o[0].modulo,this.parametro.id_usuario=o[0].id_usuario,this.parametro.assinatura=o[0].assinatura,this.parametro.parametro=o[0].parametro,this.parametro.user_insert=o[0].user_insert,this.parametro.user_update=o[0].user_update,this.opcoesOrdenacao=(0,n.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,n.FO)(this.parametro.getParametro(),"pesquisar"),this.setValues(),this.getValoresContador()},o=>{this.globalService.setSpin(!1),this.setValues(),this.getValoresContador()})}updateParametros(){this.globalService.setSpin(!0),this.parametro.user_insert=this.globalService.usuario.id,this.parametro.user_update=this.globalService.usuario.id;let e=this.parametro.getParametro();Object(e).op_ordenacao=this.opcoesOrdenacao.findIndex(o=>this.parametros.value.ordenacao==o),Object(e).op_pesquisar=this.opcoesCampo.findIndex(o=>this.parametros.value.campo==o),Object(e).descricao=this.parametros.value.filtro,Object(e).page=0,Object(e).new=!1,this.parametro.parametro=JSON.stringify(e),this.inscricaoParametro=this.parametroService.ParametroAtualiza(this.parametro).subscribe(o=>{this.globalService.setSpin(!1),this.appSnackBar.openSuccessSnackBar("Par\xe2metros Atualizados","OK")},o=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Grava\xe7\xe3o Dos Parametros ${(0,n.bZ)(o)}`,"OK")})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(c.qu),a.Y36(O.U),a.Y36(V.r),a.Y36(j.u),a.Y36(h.F0),a.Y36(P.W),a.Y36(h.gz),a.Y36(a.R0b))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-crud-valor"]],viewQuery:function(e,o){if(1&e&&a.Gf(g.N7,5),2&e){let t;a.iGM(t=a.CRH())&&(o.viewPort=t.first)}},decls:49,vars:7,consts:[[1,"div-barra"],[1,"example-spacer"],[3,"controle","changePage"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Atualizar","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Salvar Par\xe2metros","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Retorno","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click"],["autocomplete","off",1,"col-med-4",3,"formGroup"],["field","","appearance","outline",1,"col-max"],["formControlName","ordenacao",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","campo",3,"selectionChange"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","filtro","oninput","this.value = this.value.toUpperCase()"],[1,"content",3,"itemSize"],[1,"Browse_Lanc"],[1,"coluna-cabec"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"value"],[1,"Browse_Lanc_td"],[1,"alinha_centro"],[1,"alinha_direita"],[1,"acoes"],[3,"BARRA_VERTICAL","BARRA_ATIVIDADES","EXCLUIR","changeOpcao"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"mat-toolbar"),a.TgZ(2,"span",1),a._uU(3,"Valores:"),a.qZA(),a.TgZ(4,"app-navegator",2),a.NdJ("changePage",function(){return o.onChangePage()}),a.qZA(),a.TgZ(5,"button",3),a.NdJ("click",function(){return o.getValoresContador()}),a.TgZ(6,"mat-icon"),a._uU(7,"rotate_right"),a.qZA(),a.qZA(),a.TgZ(8,"button",4),a.NdJ("click",function(){return o.onSaveConfig()}),a.TgZ(9,"mat-icon"),a._uU(10,"brightness_high"),a.qZA(),a.qZA(),a.TgZ(11,"button",5),a.NdJ("click",function(){return o.onHome()}),a.TgZ(12,"mat-icon"),a._uU(13,"home"),a.qZA(),a.qZA(),a.TgZ(14,"button",6),a.NdJ("click",function(){return o.escolha(o.getAcoes().Inclusao)}),a.TgZ(15,"mat-icon"),a._uU(16,"add_circle_outline"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"div"),a.TgZ(18,"form",7),a.TgZ(19,"mat-form-field",8),a.TgZ(20,"mat-label"),a._uU(21,"Ordena\xe7\xe3o"),a.qZA(),a.TgZ(22,"mat-select",9),a.NdJ("selectionChange",function(){return o.onChangeParametros()}),a.YNc(23,B,2,2,"mat-option",10),a.qZA(),a.qZA(),a.TgZ(24,"mat-form-field",8),a.TgZ(25,"mat-label"),a._uU(26,"Pesquisar Por"),a.qZA(),a.TgZ(27,"mat-select",11),a.NdJ("selectionChange",function(){return o.onChangeParametros()}),a.YNc(28,Q,2,2,"mat-option",10),a.qZA(),a.qZA(),a.TgZ(29,"mat-form-field",12),a.TgZ(30,"mat-label"),a._uU(31,"Descri\xe7\xe3o"),a.qZA(),a._UZ(32,"input",13),a.qZA(),a.qZA(),a.qZA(),a.TgZ(33,"cdk-virtual-scroll-viewport",14),a.TgZ(34,"table",15),a.TgZ(35,"tr",16),a.TgZ(36,"th"),a._uU(37,"C\xf3d. Imobilizado"),a.qZA(),a.TgZ(38,"th"),a._uU(39,"Descri\xe7\xe3o"),a.qZA(),a.TgZ(40,"th"),a._uU(41,"Data Aquisi\xe7\xe3o"),a.qZA(),a.TgZ(42,"th"),a._uU(43,"Vlr Aquisi\xe7\xe3o"),a.qZA(),a.TgZ(44,"th"),a._uU(45,"Total Depreciado"),a.qZA(),a.TgZ(46,"th"),a._uU(47,"A\xc7\xd5ES"),a.qZA(),a.qZA(),a.YNc(48,Y,25,14,"tr",17),a.qZA(),a.qZA()),2&e&&(a.xp6(4),a.Q6J("controle",o.controlePaginas),a.xp6(10),a.Q6J("matTooltip",o.getTexto().incluir),a.xp6(4),a.Q6J("formGroup",o.parametros),a.xp6(5),a.Q6J("ngForOf",o.opcoesOrdenacao),a.xp6(5),a.Q6J("ngForOf",o.opcoesCampo),a.xp6(5),a.Q6J("itemSize",50),a.xp6(15),a.Q6J("cdkVirtualForOf",o.valores))},directives:[I.Ye,z.J,y.lW,w.gM,x.Hw,c._Y,c.JL,c.sg,v.KE,v.hX,F.gD,c.JJ,c.u,_.sg,U.Nt,c.Fj,g.N7,g.xd,g.x0,k.ey,D.C],pipes:[_.JJ],styles:[".content[_ngcontent-%COMP%]{height:60%;overflow:auto}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}"]}),r})();var S=i(8239),T=i(3325),J=i(8981);function R(r,s){if(1&r){const e=a.EpF();a.TgZ(0,"button",20),a.NdJ("click",function(){return a.CHM(e),a.oxw().onSubmit()}),a.TgZ(1,"mat-icon"),a._uU(2,"check"),a.qZA(),a._uU(3),a.qZA()}if(2&r){const e=a.oxw();a.xp6(3),a.hij(" ",e.acao," ")}}function L(r,s){if(1&r&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&r){const e=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=e.formulario.get("dtaquisicao"))||null==o.errors?null:o.errors.message,"")}}function M(r,s){if(1&r&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&r){const e=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=e.formulario.get("vlraquisicao"))||null==o.errors?null:o.errors.message,"")}}function G(r,s){if(1&r&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&r){const e=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=e.formulario.get("totaldepreciado"))||null==o.errors?null:o.errors.message,"")}}function K(r,s){if(1&r&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&r){const e=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=e.formulario.get("vlrresidual"))||null==o.errors?null:o.errors.message,"")}}function $(r,s){if(1&r&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&r){const e=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=e.formulario.get("reavalicao"))||null==o.errors?null:o.errors.message,"")}}function H(r,s){if(1&r&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&r){const e=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=e.formulario.get("deemed"))||null==o.errors?null:o.errors.message,"")}}function X(r,s){if(1&r&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&r){const e=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=e.formulario.get("vlrconsolidado"))||null==o.errors?null:o.errors.message,"")}}const W=[{path:"",redirectTo:"valores",pathMatch:"full"},{path:"valores",component:N},{path:"valores/:retorno",component:N,canActivate:[]},{path:"valor/:id_empresa/:id_local/:id_imobilizado/:acao",component:(()=>{class r{constructor(e,o,t,l,u,p){this.formBuilder=e,this.valorService=o,this.route=t,this.router=l,this.appSnackBar=u,this.globalService=p,this.valor=new T.H,this.acao="Sem Defini\xe7\xe3o",this.idAcao=m.I.Inclusao,this.readOnly=!0,this.labelCadastro="",this.formulario=e.group({id_imobilizado:[{value:""}],imo_descricao:[{value:""}],dtaquisicao:[{value:""}],vlraquisicao:[{value:""}],totaldepreciado:[{value:""}],vlrresidual:[{value:""}],reavalicao:[{value:""}],deemed:[{value:""}],vlrconsolidado:[{value:""}]}),this.valor=new T.H,this.inscricaoRota=t.params.subscribe(d=>{this.valor.id_empresa=d.id_empresa,this.valor.id_filial=d.id_local,this.valor.id_imobilizado=d.id_imobilizado,this.idAcao=d.acao,this.setAcao(d.acao)})}ngOnInit(){this.idAcao==m.I.Inclusao?(this.valor=new T.H,this.valor.id_empresa=this.globalService.getIdEmpresa(),this.valor.id_filial=this.globalService.getLocal().id):this.getValor(),this.setValue()}ngOnDestroy(){var e,o;null===(e=this.inscricaoRota)||void 0===e||e.unsubscribe(),null===(o=this.inscricaoAcao)||void 0===o||o.unsubscribe()}onSubmit(){this.formulario.valid?this.executaAcao():(this.formulario.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}onRetorno(){const e=this.globalService.estadoFind("imobilizado");if(null!=e){let o=e.getParametro();Object(o).new=this.idAcao==m.I.Inclusao,Object(o).id_retorno=this.valor.id_imobilizado,e.parametro=JSON.stringify(o),this.globalService.estadoSave(e)}this.router.navigate(["/valores/valores","SIM"])}onCancel(){const e=this.globalService.estadoFind("imobilizado");if(null!=e){let o=e.getParametro();Object(o).new=!1,Object(o).id_retorno=this.idAcao==m.I.Consulta?this.valor.id_imobilizado:0,e.parametro=JSON.stringify(o),this.globalService.estadoSave(e)}this.router.navigate(["/valores/valores","SIM"])}getValor(){this.globalService.setSpin(!0),this.inscricaoAcao=this.valorService.getValor(this.valor.id_empresa,this.valor.id_filial,this.valor.id_imobilizado).subscribe(e=>{this.globalService.setSpin(!1),this.valor=e,this.setValue()},e=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Valores ${(0,n.bZ)(e)}`,"OK")})}setValue(){this.formulario.setValue({id_imobilizado:this.valor.id_imobilizado,imo_descricao:this.valor.imo_descricao,dtaquisicao:this.valor.dtaquisicao,vlraquisicao:this.valor.vlraquisicao,totaldepreciado:this.valor.totaldepreciado,vlrresidual:this.valor.vlrresidual,reavalicao:this.valor.reavalicao,deemed:this.valor.deemed,vlrconsolidado:this.valor.vlrconsolidado})}getLabelCancel(){return this.idAcao==m.I.Consulta?"Voltar":"Cancelar"}setAcao(e){switch(+e){case m.I.Inclusao:this.acao="Gravar",this.labelCadastro="Imobilizados - Inclus\xe3o.",this.readOnly=!1;break;case m.I.Edicao:this.acao="Gravar",this.labelCadastro="Imobilizados - Altera\xe7\xe3o.",this.readOnly=!1;break;case m.I.Consulta:this.acao="Voltar",this.labelCadastro="Imobilizados - Consulta.",this.readOnly=!0;break;case m.I.Exclusao:this.acao="Excluir",this.labelCadastro="Imobilizados - Exclus\xe3o.",this.readOnly=!0}}executaAcao(){var e=this;switch(this.valor.id_imobilizado=this.formulario.value.id_imobilizado,this.valor.dtaquisicao=this.formulario.value.dtaquisicao,this.valor.vlraquisicao=this.formulario.value.vlraquisicao,this.valor.totaldepreciado=this.formulario.value.totaldepreciado,this.valor.vlrresidual=this.formulario.value.vlrresidual,this.valor.reavalicao=this.formulario.value.reavalicao,this.valor.deemed=this.formulario.value.deemed,this.valor.vlrconsolidado=this.formulario.value.vlrconsolidado,+this.idAcao){case m.I.Inclusao:this.valor.user_insert=this.globalService.getUsuario().id,this.globalService.setSpin(!0),this.inscricaoAcao=this.valorService.valorInsert(this.valor).subscribe(function(){var o=(0,S.Z)(function*(t){e.valor.id_imobilizado=t.id_imobilizado,e.globalService.setSpin(!1),e.onRetorno()});return function(t){return o.apply(this,arguments)}}(),o=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na INclus\xe3o ${(0,n.bZ)(o)}`,"OK")});break;case m.I.Edicao:this.globalService.setSpin(!0),this.valor.user_update=this.globalService.getUsuario().id,this.inscricaoAcao=this.valorService.valorUpdate(this.valor).subscribe(function(){var o=(0,S.Z)(function*(t){e.globalService.setSpin(!1),e.onRetorno()});return function(t){return o.apply(this,arguments)}}(),o=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${(0,n.bZ)(o)}`,"OK")});break;case m.I.Exclusao:this.globalService.setSpin(!0),this.inscricaoAcao=this.valorService.valorDelete(this.valor.id_empresa,this.valor.id_filial,this.valor.id_imobilizado).subscribe(function(){var o=(0,S.Z)(function*(t){e.globalService.setSpin(!1),e.onRetorno()});return function(t){return o.apply(this,arguments)}}(),o=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar("Erro Na Exclus\xe3o $Mesage ","OK")})}}getAcoes(){return m.I}touchedOrDirty(e){var o,t;return!(!(null===(o=this.formulario.get(e))||void 0===o?void 0:o.touched)&&!(null===(t=this.formulario.get(e))||void 0===t?void 0:t.dirty))}NoValidtouchedOrDirty(e){var o,t,l;return!((null===(o=this.formulario.get(e))||void 0===o?void 0:o.valid)||!(null===(t=this.formulario.get(e))||void 0===t?void 0:t.touched)&&!(null===(l=this.formulario.get(e))||void 0===l?void 0:l.dirty))}getMensafield(e){var o,t;return null===(t=null===(o=this.formulario.get(e))||void 0===o?void 0:o.errors)||void 0===t?void 0:t.message}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(c.qu),a.Y36(V.r),a.Y36(h.gz),a.Y36(h.F0),a.Y36(P.W),a.Y36(O.U))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-view-valor"]],decls:59,vars:19,consts:[[1,"example-spacer"],[1,"button-container-right"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-3"],["appearance","outline",1,"col-70"],["matInput","","formControlName","id_imobilizado"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","imo_descricao","oninput","this.value = this.value.toUpperCase()","autofocus","",3,"readonly"],["appearance","outline",1,"col-max"],["matInput","","formControlName","dtaquisicao","mask","00/00/0000","placeholder","21/11/1987",3,"readonly"],[4,"ngIf"],["matInput","","formControlName","vlraquisicao","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","totaldepreciado","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","vlrresidual","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","reavalicao","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","deemed","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"col-med-1"],["matInput","","formControlName","vlrconsolidado","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,o){if(1&e&&(a.TgZ(0,"p"),a.TgZ(1,"mat-toolbar"),a.TgZ(2,"span",0),a.TgZ(3,"mat-label"),a._uU(4),a.qZA(),a.qZA(),a.TgZ(5,"div",1),a.YNc(6,R,4,1,"button",2),a.TgZ(7,"button",3),a.NdJ("click",function(){return o.onCancel()}),a.TgZ(8,"mat-icon"),a._uU(9,"cancel"),a.qZA(),a._uU(10),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"form",4),a.TgZ(12,"div",5),a.TgZ(13,"mat-form-field",6),a.TgZ(14,"mat-label"),a._uU(15,"C\xf3d Imobilizado"),a.qZA(),a._UZ(16,"input",7),a.qZA(),a.TgZ(17,"mat-form-field",8),a.TgZ(18,"mat-label"),a._uU(19,"Descri\xe7\xe3o"),a.qZA(),a._UZ(20,"input",9),a.qZA(),a.qZA(),a.TgZ(21,"div",5),a.TgZ(22,"mat-form-field",10),a.TgZ(23,"mat-label"),a._uU(24,"Data Aquisi\xe7\xe3o"),a.qZA(),a._UZ(25,"input",11),a.YNc(26,L,2,1,"mat-error",12),a.qZA(),a.TgZ(27,"mat-form-field",10),a.TgZ(28,"mat-label"),a._uU(29,"Vlr Aquisi\xe7\xe3o"),a.qZA(),a._UZ(30,"input",13),a.YNc(31,M,2,1,"mat-error",12),a.qZA(),a.TgZ(32,"mat-form-field",10),a.TgZ(33,"mat-label"),a._uU(34,"Total Depreciado"),a.qZA(),a._UZ(35,"input",14),a.YNc(36,G,2,1,"mat-error",12),a.qZA(),a.qZA(),a.TgZ(37,"div",5),a.TgZ(38,"mat-form-field",10),a.TgZ(39,"mat-label"),a._uU(40,"Vlr Residual"),a.qZA(),a._UZ(41,"input",15),a.YNc(42,K,2,1,"mat-error",12),a.qZA(),a.TgZ(43,"mat-form-field",10),a.TgZ(44,"mat-label"),a._uU(45,"Reavalia\xe7\xe3o"),a.qZA(),a._UZ(46,"input",16),a.YNc(47,$,2,1,"mat-error",12),a.qZA(),a.TgZ(48,"mat-form-field",10),a.TgZ(49,"mat-label"),a._uU(50,"Vlr DEEMED"),a.qZA(),a._UZ(51,"input",17),a.YNc(52,H,2,1,"mat-error",12),a.qZA(),a.qZA(),a.TgZ(53,"div",18),a.TgZ(54,"mat-form-field",10),a.TgZ(55,"mat-label"),a._uU(56,"Vlr Consolidado"),a.qZA(),a._UZ(57,"input",19),a.YNc(58,X,2,1,"mat-error",12),a.qZA(),a.qZA(),a.qZA()),2&e){let t,l,u,p,d,f,b;a.xp6(4),a.Oqu(o.labelCadastro),a.xp6(2),a.Q6J("ngIf",3!=o.idAcao),a.xp6(4),a.hij(" ",o.getLabelCancel()," "),a.xp6(1),a.Q6J("formGroup",o.formulario),a.xp6(9),a.Q6J("readonly",o.readOnly),a.xp6(5),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(t=o.formulario.get("dtaquisicao"))||null==t.errors?null:t.errors.ValidatorDate)&&o.touchedOrDirty("dtaquisicao")),a.xp6(4),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(l=o.formulario.get("vlraquisicao"))||null==l.errors?null:l.errors.ValidatorStringLen)&&o.touchedOrDirty("vlraquisicao")),a.xp6(4),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(u=o.formulario.get("totaldepreciado"))||null==u.errors?null:u.errors.ValidatorStringLen)&&o.touchedOrDirty("totaldepreciado")),a.xp6(5),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(p=o.formulario.get("vlrresidual"))||null==p.errors?null:p.errors.ValidatorStringLen)&&o.touchedOrDirty("vlrresidual")),a.xp6(4),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(d=o.formulario.get("reavalicao"))||null==d.errors?null:d.errors.ValidatorStringLen)&&o.touchedOrDirty("reavalicao")),a.xp6(4),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(f=o.formulario.get("deemed"))||null==f.errors?null:f.errors.ValidatorStringLen)&&o.touchedOrDirty("deemed")),a.xp6(5),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(b=o.formulario.get("vlrconsolidado"))||null==b.errors?null:b.errors.ValidatorStringLen)&&o.touchedOrDirty("vlrconsolidado"))}},directives:[I.Ye,v.hX,_.O5,y.lW,x.Hw,c._Y,c.JL,c.sg,v.KE,U.Nt,c.Fj,c.JJ,c.u,J.hx,v.TO],styles:[""]}),r})(),canActivate:[]}];let aa=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[h.Bz.forChild(W)],h.Bz]}),r})();var oa=i(4307),ea=i(4466);let ta=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[_.ez,aa,oa.q,g.Cl,c.u5,c.UX,ea.m,J.yI.forChild()]]}),r})()}}]);